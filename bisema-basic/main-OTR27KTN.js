import{a as Ct}from"./chunk-R53LBSYF.js";import{a as Qr,b as Wr,c as Ci,d as Yr,f as St,g as wt,h as Xr,i as Jr,j as Zr,k as _n}from"./chunk-ASRVSOPE.js";import{a as os,b as as,c as bn}from"./chunk-7UOLLXZH.js";import{c as es,e as Ni,g as ts,j as ns,k as is,l as rs,n as ss}from"./chunk-4O6MB2EF.js";import{$b as qr,Ab as L,Bb as Qe,Cb as Vr,Dc as Kr,Eb as jr,Ec as Gr,Fb as Br,Fc as En,Gb as $r,Hb as Ei,Ib as ae,Ja as vi,Jb as st,Kb as Hr,La as yi,Lb as Ur,Mb as gn,N as Or,Na as y,Nb as Si,Oa as W,Ob as wi,P as O,Qa as _i,Qb as vn,Ra as Ir,S as Ce,Sa as hn,T as hi,Ta as bi,Ua as Pr,X as Ge,Y as re,_a as I,aa as j,ba as mi,ca as Vt,cb as h,db as Bt,ea as xr,eb as _t,fb as Rr,gb as p,hb as m,ia as Mr,ib as k,ja as P,jb as Pe,ka as R,kb as Re,lb as $t,lc as yn,mb as se,nb as V,ob as C,pa as Ne,pb as Fr,qa as jt,qb as kr,rb as mn,sa as fn,sb as Lr,sc as Et,tc as he,uc as qt,vb as Ht,vc as zr,wb as Ut,xa as gi,xb as Fe,xc as Te,yb as ke,zb as bt}from"./chunk-QOK7X3F6.js";import{a as rt,c as dn,d as pn}from"./chunk-4CLCTAJ7.js";var N=function(n){return n[n.State=0]="State",n[n.Transition=1]="Transition",n[n.Sequence=2]="Sequence",n[n.Group=3]="Group",n[n.Animate=4]="Animate",n[n.Keyframes=5]="Keyframes",n[n.Style=6]="Style",n[n.Trigger=7]="Trigger",n[n.Reference=8]="Reference",n[n.AnimateChild=9]="AnimateChild",n[n.AnimateRef=10]="AnimateRef",n[n.Query=11]="Query",n[n.Stagger=12]="Stagger",n}(N||{}),De="*";function ls(n,t=null){return{type:N.Sequence,steps:n,options:t}}function Ti(n){return{type:N.Style,styles:n,offset:null}}var We=class{constructor(t=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(t){this._position=this.totalTime?t*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(t){let e=t=="start"?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}},zt=class{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let e=0,i=0,r=0,s=this.players.length;s==0?queueMicrotask(()=>this._onFinish()):this.players.forEach(o=>{o.onDone(()=>{++e==s&&this._onFinish()}),o.onDestroy(()=>{++i==s&&this._onDestroy()}),o.onStart(()=>{++r==s&&this._onStart()})}),this.totalTime=this.players.reduce((o,a)=>Math.max(o,a.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){let e=t*this.totalTime;this.players.forEach(i=>{let r=i.totalTime?Math.min(1,e/i.totalTime):1;i.setPosition(r)})}getPosition(){let t=this.players.reduce((e,i)=>e===null||i.totalTime>e.totalTime?i:e,null);return t!=null?t.getPosition():0}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){let e=t=="start"?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}},Sn="!";function cs(n){return new O(3e3,!1)}function Ho(){return new O(3100,!1)}function Uo(){return new O(3101,!1)}function qo(n){return new O(3001,!1)}function zo(n){return new O(3003,!1)}function Ko(n){return new O(3004,!1)}function Go(n,t){return new O(3005,!1)}function Qo(){return new O(3006,!1)}function Wo(){return new O(3007,!1)}function Yo(n,t){return new O(3008,!1)}function Xo(n){return new O(3002,!1)}function Jo(n,t,e,i,r){return new O(3010,!1)}function Zo(){return new O(3011,!1)}function ea(){return new O(3012,!1)}function ta(){return new O(3200,!1)}function na(){return new O(3202,!1)}function ia(){return new O(3013,!1)}function ra(n){return new O(3014,!1)}function sa(n){return new O(3015,!1)}function oa(n){return new O(3016,!1)}function aa(n,t){return new O(3404,!1)}function la(n){return new O(3502,!1)}function ca(n){return new O(3503,!1)}function ua(){return new O(3300,!1)}function da(n){return new O(3504,!1)}function pa(n){return new O(3301,!1)}function fa(n,t){return new O(3302,!1)}function ha(n){return new O(3303,!1)}function ma(n,t){return new O(3400,!1)}function ga(n){return new O(3401,!1)}function va(n){return new O(3402,!1)}function ya(n,t){return new O(3505,!1)}function Ye(n){switch(n.length){case 0:return new We;case 1:return n[0];default:return new zt(n)}}function ws(n,t,e=new Map,i=new Map){let r=[],s=[],o=-1,a=null;if(t.forEach(l=>{let c=l.get("offset"),u=c==o,d=u&&a||new Map;l.forEach((w,E)=>{let g=E,S=w;if(E!=="offset")switch(g=n.normalizePropertyName(g,r),S){case Sn:S=e.get(E);break;case De:S=i.get(E);break;default:S=n.normalizeStyleValue(E,g,S,r);break}d.set(g,S)}),u||s.push(d),a=d,o=c}),r.length)throw la(r);return s}function Wi(n,t,e,i){switch(t){case"start":n.onStart(()=>i(e&&Di(e,"start",n)));break;case"done":n.onDone(()=>i(e&&Di(e,"done",n)));break;case"destroy":n.onDestroy(()=>i(e&&Di(e,"destroy",n)));break}}function Di(n,t,e){let i=e.totalTime,r=!!e.disabled,s=Yi(n.element,n.triggerName,n.fromState,n.toState,t||n.phaseName,i??n.totalTime,r),o=n._data;return o!=null&&(s._data=o),s}function Yi(n,t,e,i,r="",s=0,o){return{element:n,triggerName:t,fromState:e,toState:i,phaseName:r,totalTime:s,disabled:!!o}}function pe(n,t,e){let i=n.get(t);return i||n.set(t,i=e),i}function us(n){let t=n.indexOf(":"),e=n.substring(1,t),i=n.slice(t+1);return[e,i]}var _a=typeof document>"u"?null:document.documentElement;function Xi(n){let t=n.parentNode||n.host||null;return t===_a?null:t}function ba(n){return n.substring(1,6)=="ebkit"}var ot=null,ds=!1;function Ea(n){ot||(ot=Sa()||{},ds=ot.style?"WebkitAppearance"in ot.style:!1);let t=!0;return ot.style&&!ba(n)&&(t=n in ot.style,!t&&ds&&(t="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in ot.style)),t}function Sa(){return typeof document<"u"?document.body:null}function Cs(n,t){for(;t;){if(t===n)return!0;t=Xi(t)}return!1}function Ns(n,t,e){if(e)return Array.from(n.querySelectorAll(t));let i=n.querySelector(t);return i?[i]:[]}var Ji=(()=>{class n{validateStyleProperty(e){return Ea(e)}containsElement(e,i){return Cs(e,i)}getParentElement(e){return Xi(e)}query(e,i,r){return Ns(e,i,r)}computeStyle(e,i,r){return r||""}animate(e,i,r,s,o,a=[],l){return new We(r,s)}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=Ce({token:n,factory:n.\u0275fac})}}return n})(),ct=class{static{this.NOOP=new Ji}},ut=class{};var wa=1e3,Ts="{{",Ca="}}",Ds="ng-enter",Pi="ng-leave",wn="ng-trigger",An=".ng-trigger",ps="ng-animating",Ri=".ng-animating";function Le(n){if(typeof n=="number")return n;let t=n.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:Fi(parseFloat(t[1]),t[2])}function Fi(n,t){switch(t){case"s":return n*wa;default:return n}}function On(n,t,e){return n.hasOwnProperty("duration")?n:Na(n,t,e)}function Na(n,t,e){let i=/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i,r,s=0,o="";if(typeof n=="string"){let a=n.match(i);if(a===null)return t.push(cs(n)),{duration:0,delay:0,easing:""};r=Fi(parseFloat(a[1]),a[2]);let l=a[3];l!=null&&(s=Fi(parseFloat(l),a[4]));let c=a[5];c&&(o=c)}else r=n;if(!e){let a=!1,l=t.length;r<0&&(t.push(Ho()),a=!0),s<0&&(t.push(Uo()),a=!0),a&&t.splice(l,0,cs(n))}return{duration:r,delay:s,easing:o}}function Ta(n){return n.length?n[0]instanceof Map?n:n.map(t=>new Map(Object.entries(t))):[]}function Ae(n,t,e){t.forEach((i,r)=>{let s=Zi(r);e&&!e.has(r)&&e.set(r,n.style[s]),n.style[s]=i})}function lt(n,t){t.forEach((e,i)=>{let r=Zi(i);n.style[r]=""})}function Kt(n){return Array.isArray(n)?n.length==1?n[0]:ls(n):n}function Da(n,t,e){let i=t.params||{},r=As(n);r.length&&r.forEach(s=>{i.hasOwnProperty(s)||e.push(qo(s))})}var ki=new RegExp(`${Ts}\\s*(.+?)\\s*${Ca}`,"g");function As(n){let t=[];if(typeof n=="string"){let e;for(;e=ki.exec(n);)t.push(e[1]);ki.lastIndex=0}return t}function Qt(n,t,e){let i=`${n}`,r=i.replace(ki,(s,o)=>{let a=t[o];return a==null&&(e.push(zo(o)),a=""),a.toString()});return r==i?n:r}var Aa=/-+([a-z0-9])/g;function Zi(n){return n.replace(Aa,(...t)=>t[1].toUpperCase())}function Oa(n,t){return n===0||t===0}function xa(n,t,e){if(e.size&&t.length){let i=t[0],r=[];if(e.forEach((s,o)=>{i.has(o)||r.push(o),i.set(o,s)}),r.length)for(let s=1;s<t.length;s++){let o=t[s];r.forEach(a=>o.set(a,er(n,a)))}}return t}function de(n,t,e){switch(t.type){case N.Trigger:return n.visitTrigger(t,e);case N.State:return n.visitState(t,e);case N.Transition:return n.visitTransition(t,e);case N.Sequence:return n.visitSequence(t,e);case N.Group:return n.visitGroup(t,e);case N.Animate:return n.visitAnimate(t,e);case N.Keyframes:return n.visitKeyframes(t,e);case N.Style:return n.visitStyle(t,e);case N.Reference:return n.visitReference(t,e);case N.AnimateChild:return n.visitAnimateChild(t,e);case N.AnimateRef:return n.visitAnimateRef(t,e);case N.Query:return n.visitQuery(t,e);case N.Stagger:return n.visitStagger(t,e);default:throw Ko(t.type)}}function er(n,t){return window.getComputedStyle(n)[t]}var Ma=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]),xn=class extends ut{normalizePropertyName(t,e){return Zi(t)}normalizeStyleValue(t,e,i,r){let s="",o=i.toString().trim();if(Ma.has(e)&&i!==0&&i!=="0")if(typeof i=="number")s="px";else{let a=i.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&a[1].length==0&&r.push(Go(t,i))}return o+s}};var Mn="*";function Ia(n,t){let e=[];return typeof n=="string"?n.split(/\s*,\s*/).forEach(i=>Pa(i,e,t)):e.push(n),e}function Pa(n,t,e){if(n[0]==":"){let l=Ra(n,e);if(typeof l=="function"){t.push(l);return}n=l}let i=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(i==null||i.length<4)return e.push(sa(n)),t;let r=i[1],s=i[2],o=i[3];t.push(fs(r,o));let a=r==Mn&&o==Mn;s[0]=="<"&&!a&&t.push(fs(o,r))}function Ra(n,t){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,i)=>parseFloat(i)>parseFloat(e);case":decrement":return(e,i)=>parseFloat(i)<parseFloat(e);default:return t.push(oa(n)),"* => *"}}var Cn=new Set(["true","1"]),Nn=new Set(["false","0"]);function fs(n,t){let e=Cn.has(n)||Nn.has(n),i=Cn.has(t)||Nn.has(t);return(r,s)=>{let o=n==Mn||n==r,a=t==Mn||t==s;return!o&&e&&typeof r=="boolean"&&(o=r?Cn.has(n):Nn.has(n)),!a&&i&&typeof s=="boolean"&&(a=s?Cn.has(t):Nn.has(t)),o&&a}}var Os=":self",Fa=new RegExp(`s*${Os}s*,?`,"g");function xs(n,t,e,i){return new Li(n).build(t,e,i)}var hs="",Li=class{constructor(t){this._driver=t}build(t,e,i){let r=new Vi(e);return this._resetContextStyleTimingState(r),de(this,Kt(t),r)}_resetContextStyleTimingState(t){t.currentQuerySelector=hs,t.collectedStyles=new Map,t.collectedStyles.set(hs,new Map),t.currentTime=0}visitTrigger(t,e){let i=e.queryCount=0,r=e.depCount=0,s=[],o=[];return t.name.charAt(0)=="@"&&e.errors.push(Qo()),t.definitions.forEach(a=>{if(this._resetContextStyleTimingState(e),a.type==N.State){let l=a,c=l.name;c.toString().split(/\s*,\s*/).forEach(u=>{l.name=u,s.push(this.visitState(l,e))}),l.name=c}else if(a.type==N.Transition){let l=this.visitTransition(a,e);i+=l.queryCount,r+=l.depCount,o.push(l)}else e.errors.push(Wo())}),{type:N.Trigger,name:t.name,states:s,transitions:o,queryCount:i,depCount:r,options:null}}visitState(t,e){let i=this.visitStyle(t.styles,e),r=t.options&&t.options.params||null;if(i.containsDynamicStyles){let s=new Set,o=r||{};i.styles.forEach(a=>{a instanceof Map&&a.forEach(l=>{As(l).forEach(c=>{o.hasOwnProperty(c)||s.add(c)})})}),s.size&&e.errors.push(Yo(t.name,[...s.values()]))}return{type:N.State,name:t.name,style:i,options:r?{params:r}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;let i=de(this,Kt(t.animation),e),r=Ia(t.expr,e.errors);return{type:N.Transition,matchers:r,animation:i,queryCount:e.queryCount,depCount:e.depCount,options:at(t.options)}}visitSequence(t,e){return{type:N.Sequence,steps:t.steps.map(i=>de(this,i,e)),options:at(t.options)}}visitGroup(t,e){let i=e.currentTime,r=0,s=t.steps.map(o=>{e.currentTime=i;let a=de(this,o,e);return r=Math.max(r,e.currentTime),a});return e.currentTime=r,{type:N.Group,steps:s,options:at(t.options)}}visitAnimate(t,e){let i=ja(t.timings,e.errors);e.currentAnimateTimings=i;let r,s=t.styles?t.styles:Ti({});if(s.type==N.Keyframes)r=this.visitKeyframes(s,e);else{let o=t.styles,a=!1;if(!o){a=!0;let c={};i.easing&&(c.easing=i.easing),o=Ti(c)}e.currentTime+=i.duration+i.delay;let l=this.visitStyle(o,e);l.isEmptyStep=a,r=l}return e.currentAnimateTimings=null,{type:N.Animate,timings:i,style:r,options:null}}visitStyle(t,e){let i=this._makeStyleAst(t,e);return this._validateStyleAst(i,e),i}_makeStyleAst(t,e){let i=[],r=Array.isArray(t.styles)?t.styles:[t.styles];for(let a of r)typeof a=="string"?a===De?i.push(a):e.errors.push(Xo(a)):i.push(new Map(Object.entries(a)));let s=!1,o=null;return i.forEach(a=>{if(a instanceof Map&&(a.has("easing")&&(o=a.get("easing"),a.delete("easing")),!s)){for(let l of a.values())if(l.toString().indexOf(Ts)>=0){s=!0;break}}}),{type:N.Style,styles:i,easing:o,offset:t.offset,containsDynamicStyles:s,options:null}}_validateStyleAst(t,e){let i=e.currentAnimateTimings,r=e.currentTime,s=e.currentTime;i&&s>0&&(s-=i.duration+i.delay),t.styles.forEach(o=>{typeof o!="string"&&o.forEach((a,l)=>{let c=e.collectedStyles.get(e.currentQuerySelector),u=c.get(l),d=!0;u&&(s!=r&&s>=u.startTime&&r<=u.endTime&&(e.errors.push(Jo(l,u.startTime,u.endTime,s,r)),d=!1),s=u.startTime),d&&c.set(l,{startTime:s,endTime:r}),e.options&&Da(a,e.options,e.errors)})})}visitKeyframes(t,e){let i={type:N.Keyframes,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push(Zo()),i;let r=1,s=0,o=[],a=!1,l=!1,c=0,u=t.steps.map(z=>{let G=this._makeStyleAst(z,e),ne=G.offset!=null?G.offset:Va(G.styles),X=0;return ne!=null&&(s++,X=G.offset=ne),l=l||X<0||X>1,a=a||X<c,c=X,o.push(X),G});l&&e.errors.push(ea()),a&&e.errors.push(ta());let d=t.steps.length,w=0;s>0&&s<d?e.errors.push(na()):s==0&&(w=r/(d-1));let E=d-1,g=e.currentTime,S=e.currentAnimateTimings,B=S.duration;return u.forEach((z,G)=>{let ne=w>0?G==E?1:w*G:o[G],X=ne*B;e.currentTime=g+S.delay+X,S.duration=X,this._validateStyleAst(z,e),z.offset=ne,i.styles.push(z)}),i}visitReference(t,e){return{type:N.Reference,animation:de(this,Kt(t.animation),e),options:at(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:N.AnimateChild,options:at(t.options)}}visitAnimateRef(t,e){return{type:N.AnimateRef,animation:this.visitReference(t.animation,e),options:at(t.options)}}visitQuery(t,e){let i=e.currentQuerySelector,r=t.options||{};e.queryCount++,e.currentQuery=t;let[s,o]=ka(t.selector);e.currentQuerySelector=i.length?i+" "+s:s,pe(e.collectedStyles,e.currentQuerySelector,new Map);let a=de(this,Kt(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=i,{type:N.Query,selector:s,limit:r.limit||0,optional:!!r.optional,includeSelf:o,animation:a,originalSelector:t.selector,options:at(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push(ia());let i=t.timings==="full"?{duration:0,delay:0,easing:"full"}:On(t.timings,e.errors,!0);return{type:N.Stagger,animation:de(this,Kt(t.animation),e),timings:i,options:null}}};function ka(n){let t=!!n.split(/\s*,\s*/).find(e=>e==Os);return t&&(n=n.replace(Fa,"")),n=n.replace(/@\*/g,An).replace(/@\w+/g,e=>An+"-"+e.slice(1)).replace(/:animating/g,Ri),[n,t]}function La(n){return n?rt({},n):null}var Vi=class{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}};function Va(n){if(typeof n=="string")return null;let t=null;if(Array.isArray(n))n.forEach(e=>{if(e instanceof Map&&e.has("offset")){let i=e;t=parseFloat(i.get("offset")),i.delete("offset")}});else if(n instanceof Map&&n.has("offset")){let e=n;t=parseFloat(e.get("offset")),e.delete("offset")}return t}function ja(n,t){if(n.hasOwnProperty("duration"))return n;if(typeof n=="number"){let s=On(n,t).duration;return Ai(s,0,"")}let e=n;if(e.split(/\s+/).some(s=>s.charAt(0)=="{"&&s.charAt(1)=="{")){let s=Ai(0,0,"");return s.dynamic=!0,s.strValue=e,s}let r=On(e,t);return Ai(r.duration,r.delay,r.easing)}function at(n){return n?(n=rt({},n),n.params&&(n.params=La(n.params))):n={},n}function Ai(n,t,e){return{duration:n,delay:t,easing:e}}function tr(n,t,e,i,r,s,o=null,a=!1){return{type:1,element:n,keyframes:t,preStyleProps:e,postStyleProps:i,duration:r,delay:s,totalTime:r+s,easing:o,subTimeline:a}}var Wt=class{constructor(){this._map=new Map}get(t){return this._map.get(t)||[]}append(t,e){let i=this._map.get(t);i||this._map.set(t,i=[]),i.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}},Ba=1,$a=":enter",Ha=new RegExp($a,"g"),Ua=":leave",qa=new RegExp(Ua,"g");function Ms(n,t,e,i,r,s=new Map,o=new Map,a,l,c=[]){return new ji().buildKeyframes(n,t,e,i,r,s,o,a,l,c)}var ji=class{buildKeyframes(t,e,i,r,s,o,a,l,c,u=[]){c=c||new Wt;let d=new Bi(t,e,c,r,s,u,[]);d.options=l;let w=l.delay?Le(l.delay):0;d.currentTimeline.delayNextStep(w),d.currentTimeline.setStyles([o],null,d.errors,l),de(this,i,d);let E=d.timelines.filter(g=>g.containsAnimation());if(E.length&&a.size){let g;for(let S=E.length-1;S>=0;S--){let B=E[S];if(B.element===e){g=B;break}}g&&!g.allowOnlyTimelineStyles()&&g.setStyles([a],null,d.errors,l)}return E.length?E.map(g=>g.buildKeyframes()):[tr(e,[],[],[],0,w,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){let i=e.subInstructions.get(e.element);if(i){let r=e.createSubContext(t.options),s=e.currentTimeline.currentTime,o=this._visitSubInstructions(i,r,r.options);s!=o&&e.transformIntoNewTimeline(o)}e.previousNode=t}visitAnimateRef(t,e){let i=e.createSubContext(t.options);i.transformIntoNewTimeline(),this._applyAnimationRefDelays([t.options,t.animation.options],e,i),this.visitReference(t.animation,i),e.transformIntoNewTimeline(i.currentTimeline.currentTime),e.previousNode=t}_applyAnimationRefDelays(t,e,i){for(let r of t){let s=r?.delay;if(s){let o=typeof s=="number"?s:Le(Qt(s,r?.params??{},e.errors));i.delayNextStep(o)}}}_visitSubInstructions(t,e,i){let s=e.currentTimeline.currentTime,o=i.duration!=null?Le(i.duration):null,a=i.delay!=null?Le(i.delay):null;return o!==0&&t.forEach(l=>{let c=e.appendInstructionToTimeline(l,o,a);s=Math.max(s,c.duration+c.delay)}),s}visitReference(t,e){e.updateOptions(t.options,!0),de(this,t.animation,e),e.previousNode=t}visitSequence(t,e){let i=e.subContextCount,r=e,s=t.options;if(s&&(s.params||s.delay)&&(r=e.createSubContext(s),r.transformIntoNewTimeline(),s.delay!=null)){r.previousNode.type==N.Style&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=In);let o=Le(s.delay);r.delayNextStep(o)}t.steps.length&&(t.steps.forEach(o=>de(this,o,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>i&&r.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){let i=[],r=e.currentTimeline.currentTime,s=t.options&&t.options.delay?Le(t.options.delay):0;t.steps.forEach(o=>{let a=e.createSubContext(t.options);s&&a.delayNextStep(s),de(this,o,a),r=Math.max(r,a.currentTimeline.currentTime),i.push(a.currentTimeline)}),i.forEach(o=>e.currentTimeline.mergeTimelineCollectedStyles(o)),e.transformIntoNewTimeline(r),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){let i=t.strValue,r=e.params?Qt(i,e.params,e.errors):i;return On(r,e.errors)}else return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){let i=e.currentAnimateTimings=this._visitTiming(t.timings,e),r=e.currentTimeline;i.delay&&(e.incrementTime(i.delay),r.snapshotCurrentStyles());let s=t.style;s.type==N.Keyframes?this.visitKeyframes(s,e):(e.incrementTime(i.duration),this.visitStyle(s,e),r.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){let i=e.currentTimeline,r=e.currentAnimateTimings;!r&&i.hasCurrentStyleProperties()&&i.forwardFrame();let s=r&&r.easing||t.easing;t.isEmptyStep?i.applyEmptyStep(s):i.setStyles(t.styles,s,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){let i=e.currentAnimateTimings,r=e.currentTimeline.duration,s=i.duration,a=e.createSubContext().currentTimeline;a.easing=i.easing,t.styles.forEach(l=>{let c=l.offset||0;a.forwardTime(c*s),a.setStyles(l.styles,l.easing,e.errors,e.options),a.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(a),e.transformIntoNewTimeline(r+s),e.previousNode=t}visitQuery(t,e){let i=e.currentTimeline.currentTime,r=t.options||{},s=r.delay?Le(r.delay):0;s&&(e.previousNode.type===N.Style||i==0&&e.currentTimeline.hasCurrentStyleProperties())&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=In);let o=i,a=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!r.optional,e.errors);e.currentQueryTotal=a.length;let l=null;a.forEach((c,u)=>{e.currentQueryIndex=u;let d=e.createSubContext(t.options,c);s&&d.delayNextStep(s),c===e.element&&(l=d.currentTimeline),de(this,t.animation,d),d.currentTimeline.applyStylesToKeyframe();let w=d.currentTimeline.currentTime;o=Math.max(o,w)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(o),l&&(e.currentTimeline.mergeTimelineCollectedStyles(l),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){let i=e.parentContext,r=e.currentTimeline,s=t.timings,o=Math.abs(s.duration),a=o*(e.currentQueryTotal-1),l=o*e.currentQueryIndex;switch(s.duration<0?"reverse":s.easing){case"reverse":l=a-l;break;case"full":l=i.currentStaggerTime;break}let u=e.currentTimeline;l&&u.delayNextStep(l);let d=u.currentTime;de(this,t.animation,e),e.previousNode=t,i.currentStaggerTime=r.currentTime-d+(r.startTime-i.currentTimeline.startTime)}},In={},Bi=class n{constructor(t,e,i,r,s,o,a,l){this._driver=t,this.element=e,this.subInstructions=i,this._enterClassName=r,this._leaveClassName=s,this.errors=o,this.timelines=a,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=In,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=l||new Pn(this._driver,e,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;let i=t,r=this.options;i.duration!=null&&(r.duration=Le(i.duration)),i.delay!=null&&(r.delay=Le(i.delay));let s=i.params;if(s){let o=r.params;o||(o=this.options.params={}),Object.keys(s).forEach(a=>{(!e||!o.hasOwnProperty(a))&&(o[a]=Qt(s[a],o,this.errors))})}}_copyOptions(){let t={};if(this.options){let e=this.options.params;if(e){let i=t.params={};Object.keys(e).forEach(r=>{i[r]=e[r]})}}return t}createSubContext(t=null,e,i){let r=e||this.element,s=new n(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,i||0));return s.previousNode=this.previousNode,s.currentAnimateTimings=this.currentAnimateTimings,s.options=this._copyOptions(),s.updateOptions(t),s.currentQueryIndex=this.currentQueryIndex,s.currentQueryTotal=this.currentQueryTotal,s.parentContext=this,this.subContextCount++,s}transformIntoNewTimeline(t){return this.previousNode=In,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,i){let r={duration:e??t.duration,delay:this.currentTimeline.currentTime+(i??0)+t.delay,easing:""},s=new $i(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,r,t.stretchStartingKeyframe);return this.timelines.push(s),r}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,i,r,s,o){let a=[];if(r&&a.push(this.element),t.length>0){t=t.replace(Ha,"."+this._enterClassName),t=t.replace(qa,"."+this._leaveClassName);let l=i!=1,c=this._driver.query(this.element,t,l);i!==0&&(c=i<0?c.slice(c.length+i,c.length):c.slice(0,i)),a.push(...c)}return!s&&a.length==0&&o.push(ra(e)),a}},Pn=class n{constructor(t,e,i,r){this._driver=t,this.element=e,this.startTime=i,this._elementTimelineStylesLookup=r,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(t){let e=this._keyframes.size===1&&this._pendingStyles.size;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new n(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=Ba,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles.set(t,e),this._globalTimelineStyles.set(t,e),this._styleSummary.set(t,{time:this.currentTime,value:e})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&this._previousKeyframe.set("easing",t);for(let[e,i]of this._globalTimelineStyles)this._backFill.set(e,i||De),this._currentKeyframe.set(e,De);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,i,r){e&&this._previousKeyframe.set("easing",e);let s=r&&r.params||{},o=za(t,this._globalTimelineStyles);for(let[a,l]of o){let c=Qt(l,s,i);this._pendingStyles.set(a,c),this._localTimelineStyles.has(a)||this._backFill.set(a,this._globalTimelineStyles.get(a)??De),this._updateStyle(a,c)}}applyStylesToKeyframe(){this._pendingStyles.size!=0&&(this._pendingStyles.forEach((t,e)=>{this._currentKeyframe.set(e,t)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((t,e)=>{this._currentKeyframe.has(e)||this._currentKeyframe.set(e,t)}))}snapshotCurrentStyles(){for(let[t,e]of this._localTimelineStyles)this._pendingStyles.set(t,e),this._updateStyle(t,e)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){let t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){t._styleSummary.forEach((e,i)=>{let r=this._styleSummary.get(i);(!r||e.time>r.time)&&this._updateStyle(i,e.value)})}buildKeyframes(){this.applyStylesToKeyframe();let t=new Set,e=new Set,i=this._keyframes.size===1&&this.duration===0,r=[];this._keyframes.forEach((a,l)=>{let c=new Map([...this._backFill,...a]);c.forEach((u,d)=>{u===Sn?t.add(d):u===De&&e.add(d)}),i||c.set("offset",l/this.duration),r.push(c)});let s=[...t.values()],o=[...e.values()];if(i){let a=r[0],l=new Map(a);a.set("offset",0),l.set("offset",1),r=[a,l]}return tr(this.element,r,s,o,this.duration,this.startTime,this.easing,!1)}},$i=class extends Pn{constructor(t,e,i,r,s,o,a=!1){super(t,e,o.delay),this.keyframes=i,this.preStyleProps=r,this.postStyleProps=s,this._stretchStartingKeyframe=a,this.timings={duration:o.duration,delay:o.delay,easing:o.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:i,easing:r}=this.timings;if(this._stretchStartingKeyframe&&e){let s=[],o=i+e,a=e/o,l=new Map(t[0]);l.set("offset",0),s.push(l);let c=new Map(t[0]);c.set("offset",ms(a)),s.push(c);let u=t.length-1;for(let d=1;d<=u;d++){let w=new Map(t[d]),E=w.get("offset"),g=e+E*i;w.set("offset",ms(g/o)),s.push(w)}i=o,e=0,r="",t=s}return tr(this.element,t,this.preStyleProps,this.postStyleProps,i,e,r,!0)}};function ms(n,t=3){let e=Math.pow(10,t-1);return Math.round(n*e)/e}function za(n,t){let e=new Map,i;return n.forEach(r=>{if(r==="*"){i??=t.keys();for(let s of i)e.set(s,De)}else for(let[s,o]of r)e.set(s,o)}),e}function gs(n,t,e,i,r,s,o,a,l,c,u,d,w){return{type:0,element:n,triggerName:t,isRemovalTransition:r,fromState:e,fromStyles:s,toState:i,toStyles:o,timelines:a,queriedElements:l,preStyleProps:c,postStyleProps:u,totalTime:d,errors:w}}var Oi={},Rn=class{constructor(t,e,i){this._triggerName=t,this.ast=e,this._stateStyles=i}match(t,e,i,r){return Ka(this.ast.matchers,t,e,i,r)}buildStyles(t,e,i){let r=this._stateStyles.get("*");return t!==void 0&&(r=this._stateStyles.get(t?.toString())||r),r?r.buildStyles(e,i):new Map}build(t,e,i,r,s,o,a,l,c,u){let d=[],w=this.ast.options&&this.ast.options.params||Oi,E=a&&a.params||Oi,g=this.buildStyles(i,E,d),S=l&&l.params||Oi,B=this.buildStyles(r,S,d),z=new Set,G=new Map,ne=new Map,X=r==="void",vt={params:Is(S,w),delay:this.ast.options?.delay},Se=u?[]:Ms(t,e,this.ast.animation,s,o,g,B,vt,c,d),ie=0;return Se.forEach(oe=>{ie=Math.max(oe.duration+oe.delay,ie)}),d.length?gs(e,this._triggerName,i,r,X,g,B,[],[],G,ne,ie,d):(Se.forEach(oe=>{let tt=oe.element,yt=pe(G,tt,new Set);oe.preStyleProps.forEach(nt=>yt.add(nt));let Nr=pe(ne,tt,new Set);oe.postStyleProps.forEach(nt=>Nr.add(nt)),tt!==e&&z.add(tt)}),gs(e,this._triggerName,i,r,X,g,B,Se,[...z.values()],G,ne,ie))}};function Ka(n,t,e,i,r){return n.some(s=>s(t,e,i,r))}function Is(n,t){let e=rt({},t);return Object.entries(n).forEach(([i,r])=>{r!=null&&(e[i]=r)}),e}var Hi=class{constructor(t,e,i){this.styles=t,this.defaultParams=e,this.normalizer=i}buildStyles(t,e){let i=new Map,r=Is(t,this.defaultParams);return this.styles.styles.forEach(s=>{typeof s!="string"&&s.forEach((o,a)=>{o&&(o=Qt(o,r,e));let l=this.normalizer.normalizePropertyName(a,e);o=this.normalizer.normalizeStyleValue(a,l,o,e),i.set(a,o)})}),i}};function Ga(n,t,e){return new Ui(n,t,e)}var Ui=class{constructor(t,e,i){this.name=t,this.ast=e,this._normalizer=i,this.transitionFactories=[],this.states=new Map,e.states.forEach(r=>{let s=r.options&&r.options.params||{};this.states.set(r.name,new Hi(r.style,s,i))}),vs(this.states,"true","1"),vs(this.states,"false","0"),e.transitions.forEach(r=>{this.transitionFactories.push(new Rn(t,r,this.states))}),this.fallbackTransition=Qa(t,this.states,this._normalizer)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,i,r){return this.transitionFactories.find(o=>o.match(t,e,i,r))||null}matchStyles(t,e,i){return this.fallbackTransition.buildStyles(t,e,i)}};function Qa(n,t,e){let i=[(o,a)=>!0],r={type:N.Sequence,steps:[],options:null},s={type:N.Transition,animation:r,matchers:i,options:null,queryCount:0,depCount:0};return new Rn(n,s,t)}function vs(n,t,e){n.has(t)?n.has(e)||n.set(e,n.get(t)):n.has(e)&&n.set(t,n.get(e))}var Wa=new Wt,qi=class{constructor(t,e,i){this.bodyNode=t,this._driver=e,this._normalizer=i,this._animations=new Map,this._playersById=new Map,this.players=[]}register(t,e){let i=[],r=[],s=xs(this._driver,e,i,r);if(i.length)throw ca(i);r.length&&void 0,this._animations.set(t,s)}_buildPlayer(t,e,i){let r=t.element,s=ws(this._normalizer,t.keyframes,e,i);return this._driver.animate(r,s,t.duration,t.delay,t.easing,[],!0)}create(t,e,i={}){let r=[],s=this._animations.get(t),o,a=new Map;if(s?(o=Ms(this._driver,e,s,Ds,Pi,new Map,new Map,i,Wa,r),o.forEach(u=>{let d=pe(a,u.element,new Map);u.postStyleProps.forEach(w=>d.set(w,null))})):(r.push(ua()),o=[]),r.length)throw da(r);a.forEach((u,d)=>{u.forEach((w,E)=>{u.set(E,this._driver.computeStyle(d,E,De))})});let l=o.map(u=>{let d=a.get(u.element);return this._buildPlayer(u,new Map,d)}),c=Ye(l);return this._playersById.set(t,c),c.onDestroy(()=>this.destroy(t)),this.players.push(c),c}destroy(t){let e=this._getPlayer(t);e.destroy(),this._playersById.delete(t);let i=this.players.indexOf(e);i>=0&&this.players.splice(i,1)}_getPlayer(t){let e=this._playersById.get(t);if(!e)throw pa(t);return e}listen(t,e,i,r){let s=Yi(e,"","","");return Wi(this._getPlayer(t),i,s,r),()=>{}}command(t,e,i,r){if(i=="register"){this.register(t,r[0]);return}if(i=="create"){let o=r[0]||{};this.create(t,e,o);return}let s=this._getPlayer(t);switch(i){case"play":s.play();break;case"pause":s.pause();break;case"reset":s.reset();break;case"restart":s.restart();break;case"finish":s.finish();break;case"init":s.init();break;case"setPosition":s.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(t);break}}},ys="ng-animate-queued",Ya=".ng-animate-queued",xi="ng-animate-disabled",Xa=".ng-animate-disabled",Ja="ng-star-inserted",Za=".ng-star-inserted",el=[],Ps={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},tl={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},ge="__ng_removed",Yt=class{get params(){return this.options.params}constructor(t,e=""){this.namespaceId=e;let i=t&&t.hasOwnProperty("value"),r=i?t.value:t;if(this.value=il(r),i){let s=t,{value:o}=s,a=dn(s,["value"]);this.options=a}else this.options={};this.options.params||(this.options.params={})}absorbOptions(t){let e=t.params;if(e){let i=this.options.params;Object.keys(e).forEach(r=>{i[r]==null&&(i[r]=e[r])})}}},Gt="void",Mi=new Yt(Gt),zi=class{constructor(t,e,i){this.id=t,this.hostElement=e,this._engine=i,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,me(e,this._hostClassName)}listen(t,e,i,r){if(!this._triggers.has(e))throw fa(i,e);if(i==null||i.length==0)throw ha(e);if(!rl(i))throw ma(i,e);let s=pe(this._elementListeners,t,[]),o={name:e,phase:i,callback:r};s.push(o);let a=pe(this._engine.statesByElement,t,new Map);return a.has(e)||(me(t,wn),me(t,wn+"-"+e),a.set(e,Mi)),()=>{this._engine.afterFlush(()=>{let l=s.indexOf(o);l>=0&&s.splice(l,1),this._triggers.has(e)||a.delete(e)})}}register(t,e){return this._triggers.has(t)?!1:(this._triggers.set(t,e),!0)}_getTrigger(t){let e=this._triggers.get(t);if(!e)throw ga(t);return e}trigger(t,e,i,r=!0){let s=this._getTrigger(e),o=new Xt(this.id,e,t),a=this._engine.statesByElement.get(t);a||(me(t,wn),me(t,wn+"-"+e),this._engine.statesByElement.set(t,a=new Map));let l=a.get(e),c=new Yt(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&l&&c.absorbOptions(l.options),a.set(e,c),l||(l=Mi),!(c.value===Gt)&&l.value===c.value){if(!al(l.params,c.params)){let S=[],B=s.matchStyles(l.value,l.params,S),z=s.matchStyles(c.value,c.params,S);S.length?this._engine.reportError(S):this._engine.afterFlush(()=>{lt(t,B),Ae(t,z)})}return}let w=pe(this._engine.playersByElement,t,[]);w.forEach(S=>{S.namespaceId==this.id&&S.triggerName==e&&S.queued&&S.destroy()});let E=s.matchTransition(l.value,c.value,t,c.params),g=!1;if(!E){if(!r)return;E=s.fallbackTransition,g=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:E,fromState:l,toState:c,player:o,isFallbackTransition:g}),g||(me(t,ys),o.onStart(()=>{Nt(t,ys)})),o.onDone(()=>{let S=this.players.indexOf(o);S>=0&&this.players.splice(S,1);let B=this._engine.playersByElement.get(t);if(B){let z=B.indexOf(o);z>=0&&B.splice(z,1)}}),this.players.push(o),w.push(o),o}deregister(t){this._triggers.delete(t),this._engine.statesByElement.forEach(e=>e.delete(t)),this._elementListeners.forEach((e,i)=>{this._elementListeners.set(i,e.filter(r=>r.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);let e=this._engine.playersByElement.get(t);e&&(e.forEach(i=>i.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){let i=this._engine.driver.query(t,An,!0);i.forEach(r=>{if(r[ge])return;let s=this._engine.fetchNamespacesByElement(r);s.size?s.forEach(o=>o.triggerLeaveAnimation(r,e,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(t,e,i,r){let s=this._engine.statesByElement.get(t),o=new Map;if(s){let a=[];if(s.forEach((l,c)=>{if(o.set(c,l.value),this._triggers.has(c)){let u=this.trigger(t,c,Gt,r);u&&a.push(u)}}),a.length)return this._engine.markElementAsRemoved(this.id,t,!0,e,o),i&&Ye(a).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){let e=this._elementListeners.get(t),i=this._engine.statesByElement.get(t);if(e&&i){let r=new Set;e.forEach(s=>{let o=s.name;if(r.has(o))return;r.add(o);let l=this._triggers.get(o).fallbackTransition,c=i.get(o)||Mi,u=new Yt(Gt),d=new Xt(this.id,o,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:o,transition:l,fromState:c,toState:u,player:d,isFallbackTransition:!0})})}}removeNode(t,e){let i=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let r=!1;if(i.totalAnimations){let s=i.players.length?i.playersByQueriedElement.get(t):[];if(s&&s.length)r=!0;else{let o=t;for(;o=o.parentNode;)if(i.statesByElement.get(o)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(t),r)i.markElementAsRemoved(this.id,t,!1,e);else{let s=t[ge];(!s||s===Ps)&&(i.afterFlush(()=>this.clearElementCache(t)),i.destroyInnerAnimations(t),i._onRemovalComplete(t,e))}}insertNode(t,e){me(t,this._hostClassName)}drainQueuedTransitions(t){let e=[];return this._queue.forEach(i=>{let r=i.player;if(r.destroyed)return;let s=i.element,o=this._elementListeners.get(s);o&&o.forEach(a=>{if(a.name==i.triggerName){let l=Yi(s,i.triggerName,i.fromState.value,i.toState.value);l._data=t,Wi(i.player,a.phase,l,a.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):e.push(i)}),this._queue=[],e.sort((i,r)=>{let s=i.transition.ast.depCount,o=r.transition.ast.depCount;return s==0||o==0?s-o:this._engine.driver.containsElement(i.element,r.element)?1:-1})}destroy(t){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}},Ki=class{_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}constructor(t,e,i){this.bodyNode=t,this.driver=e,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(r,s)=>{}}get queuedPlayers(){let t=[];return this._namespaceList.forEach(e=>{e.players.forEach(i=>{i.queued&&t.push(i)})}),t}createNamespace(t,e){let i=new zi(t,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(i,e):(this.newHostElements.set(e,i),this.collectEnterElement(e)),this._namespaceLookup[t]=i}_balanceNamespaceList(t,e){let i=this._namespaceList,r=this.namespacesByHostElement;if(i.length-1>=0){let o=!1,a=this.driver.getParentElement(e);for(;a;){let l=r.get(a);if(l){let c=i.indexOf(l);i.splice(c+1,0,t),o=!0;break}a=this.driver.getParentElement(a)}o||i.unshift(t)}else i.push(t);return r.set(e,t),t}register(t,e){let i=this._namespaceLookup[t];return i||(i=this.createNamespace(t,e)),i}registerTrigger(t,e,i){let r=this._namespaceLookup[t];r&&r.register(e,i)&&this.totalAnimations++}destroy(t,e){t&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{let i=this._fetchNamespace(t);this.namespacesByHostElement.delete(i.hostElement);let r=this._namespaceList.indexOf(i);r>=0&&this._namespaceList.splice(r,1),i.destroy(e),delete this._namespaceLookup[t]}))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){let e=new Set,i=this.statesByElement.get(t);if(i){for(let r of i.values())if(r.namespaceId){let s=this._fetchNamespace(r.namespaceId);s&&e.add(s)}}return e}trigger(t,e,i,r){if(Tn(e)){let s=this._fetchNamespace(t);if(s)return s.trigger(e,i,r),!0}return!1}insertNode(t,e,i,r){if(!Tn(e))return;let s=e[ge];if(s&&s.setForRemoval){s.setForRemoval=!1,s.setForMove=!0;let o=this.collectedLeaveElements.indexOf(e);o>=0&&this.collectedLeaveElements.splice(o,1)}if(t){let o=this._fetchNamespace(t);o&&o.insertNode(e,i)}r&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),me(t,xi)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),Nt(t,xi))}removeNode(t,e,i){if(Tn(e)){let r=t?this._fetchNamespace(t):null;r?r.removeNode(e,i):this.markElementAsRemoved(t,e,!1,i);let s=this.namespacesByHostElement.get(e);s&&s.id!==t&&s.removeNode(e,i)}else this._onRemovalComplete(e,i)}markElementAsRemoved(t,e,i,r,s){this.collectedLeaveElements.push(e),e[ge]={namespaceId:t,setForRemoval:r,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:s}}listen(t,e,i,r,s){return Tn(e)?this._fetchNamespace(t).listen(e,i,r,s):()=>{}}_buildInstruction(t,e,i,r,s){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,i,r,t.fromState.options,t.toState.options,e,s)}destroyInnerAnimations(t){let e=this.driver.query(t,An,!0);e.forEach(i=>this.destroyActiveAnimationsForElement(i)),this.playersByQueriedElement.size!=0&&(e=this.driver.query(t,Ri,!0),e.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(t){let e=this.playersByElement.get(t);e&&e.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(t){let e=this.playersByQueriedElement.get(t);e&&e.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return Ye(this.players).onDone(()=>t());t()})}processLeaveNode(t){let e=t[ge];if(e&&e.setForRemoval){if(t[ge]=Ps,e.namespaceId){this.destroyInnerAnimations(t);let i=this._fetchNamespace(e.namespaceId);i&&i.clearElementCache(t)}this._onRemovalComplete(t,e.setForRemoval)}t.classList?.contains(xi)&&this.markElementAsDisabled(t,!1),this.driver.query(t,Xa,!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,r)=>this._balanceNamespaceList(i,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++){let r=this.collectedEnterElements[i];me(r,Ja)}if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){let i=[];try{e=this._flushAnimations(i,t)}finally{for(let r=0;r<i.length;r++)i[r]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++){let r=this.collectedLeaveElements[i];this.processLeaveNode(r)}if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){let i=this._whenQuietFns;this._whenQuietFns=[],e.length?Ye(e).onDone(()=>{i.forEach(r=>r())}):i.forEach(r=>r())}}reportError(t){throw va(t)}_flushAnimations(t,e){let i=new Wt,r=[],s=new Map,o=[],a=new Map,l=new Map,c=new Map,u=new Set;this.disabledNodes.forEach(f=>{u.add(f);let _=this.driver.query(f,Ya,!0);for(let b=0;b<_.length;b++)u.add(_[b])});let d=this.bodyNode,w=Array.from(this.statesByElement.keys()),E=Es(w,this.collectedEnterElements),g=new Map,S=0;E.forEach((f,_)=>{let b=Ds+S++;g.set(_,b),f.forEach(A=>me(A,b))});let B=[],z=new Set,G=new Set;for(let f=0;f<this.collectedLeaveElements.length;f++){let _=this.collectedLeaveElements[f],b=_[ge];b&&b.setForRemoval&&(B.push(_),z.add(_),b.hasAnimation?this.driver.query(_,Za,!0).forEach(A=>z.add(A)):G.add(_))}let ne=new Map,X=Es(w,Array.from(z));X.forEach((f,_)=>{let b=Pi+S++;ne.set(_,b),f.forEach(A=>me(A,b))}),t.push(()=>{E.forEach((f,_)=>{let b=g.get(_);f.forEach(A=>Nt(A,b))}),X.forEach((f,_)=>{let b=ne.get(_);f.forEach(A=>Nt(A,b))}),B.forEach(f=>{this.processLeaveNode(f)})});let vt=[],Se=[];for(let f=this._namespaceList.length-1;f>=0;f--)this._namespaceList[f].drainQueuedTransitions(e).forEach(b=>{let A=b.player,Q=b.element;if(vt.push(A),this.collectedEnterElements.length){let Z=Q[ge];if(Z&&Z.setForMove){if(Z.previousTriggersValues&&Z.previousTriggersValues.has(b.triggerName)){let it=Z.previousTriggersValues.get(b.triggerName),fe=this.statesByElement.get(b.element);if(fe&&fe.has(b.triggerName)){let un=fe.get(b.triggerName);un.value=it,fe.set(b.triggerName,un)}}A.destroy();return}}let we=!d||!this.driver.containsElement(d,Q),ue=ne.get(Q),Ke=g.get(Q),H=this._buildInstruction(b,i,Ke,ue,we);if(H.errors&&H.errors.length){Se.push(H);return}if(we){A.onStart(()=>lt(Q,H.fromStyles)),A.onDestroy(()=>Ae(Q,H.toStyles)),r.push(A);return}if(b.isFallbackTransition){A.onStart(()=>lt(Q,H.fromStyles)),A.onDestroy(()=>Ae(Q,H.toStyles)),r.push(A);return}let Ar=[];H.timelines.forEach(Z=>{Z.stretchStartingKeyframe=!0,this.disabledNodes.has(Z.element)||Ar.push(Z)}),H.timelines=Ar,i.append(Q,H.timelines);let $o={instruction:H,player:A,element:Q};o.push($o),H.queriedElements.forEach(Z=>pe(a,Z,[]).push(A)),H.preStyleProps.forEach((Z,it)=>{if(Z.size){let fe=l.get(it);fe||l.set(it,fe=new Set),Z.forEach((un,fi)=>fe.add(fi))}}),H.postStyleProps.forEach((Z,it)=>{let fe=c.get(it);fe||c.set(it,fe=new Set),Z.forEach((un,fi)=>fe.add(fi))})});if(Se.length){let f=[];Se.forEach(_=>{f.push(ya(_.triggerName,_.errors))}),vt.forEach(_=>_.destroy()),this.reportError(f)}let ie=new Map,oe=new Map;o.forEach(f=>{let _=f.element;i.has(_)&&(oe.set(_,_),this._beforeAnimationBuild(f.player.namespaceId,f.instruction,ie))}),r.forEach(f=>{let _=f.element;this._getPreviousPlayers(_,!1,f.namespaceId,f.triggerName,null).forEach(A=>{pe(ie,_,[]).push(A),A.destroy()})});let tt=B.filter(f=>Ss(f,l,c)),yt=new Map;bs(yt,this.driver,G,c,De).forEach(f=>{Ss(f,l,c)&&tt.push(f)});let nt=new Map;E.forEach((f,_)=>{bs(nt,this.driver,new Set(f),l,Sn)}),tt.forEach(f=>{let _=yt.get(f),b=nt.get(f);yt.set(f,new Map([..._?.entries()??[],...b?.entries()??[]]))});let pi=[],Tr=[],Dr={};o.forEach(f=>{let{element:_,player:b,instruction:A}=f;if(i.has(_)){if(u.has(_)){b.onDestroy(()=>Ae(_,A.toStyles)),b.disabled=!0,b.overrideTotalTime(A.totalTime),r.push(b);return}let Q=Dr;if(oe.size>1){let ue=_,Ke=[];for(;ue=ue.parentNode;){let H=oe.get(ue);if(H){Q=H;break}Ke.push(ue)}Ke.forEach(H=>oe.set(H,Q))}let we=this._buildAnimation(b.namespaceId,A,ie,s,nt,yt);if(b.setRealPlayer(we),Q===Dr)pi.push(b);else{let ue=this.playersByElement.get(Q);ue&&ue.length&&(b.parentPlayer=Ye(ue)),r.push(b)}}else lt(_,A.fromStyles),b.onDestroy(()=>Ae(_,A.toStyles)),Tr.push(b),u.has(_)&&r.push(b)}),Tr.forEach(f=>{let _=s.get(f.element);if(_&&_.length){let b=Ye(_);f.setRealPlayer(b)}}),r.forEach(f=>{f.parentPlayer?f.syncPlayerEvents(f.parentPlayer):f.destroy()});for(let f=0;f<B.length;f++){let _=B[f],b=_[ge];if(Nt(_,Pi),b&&b.hasAnimation)continue;let A=[];if(a.size){let we=a.get(_);we&&we.length&&A.push(...we);let ue=this.driver.query(_,Ri,!0);for(let Ke=0;Ke<ue.length;Ke++){let H=a.get(ue[Ke]);H&&H.length&&A.push(...H)}}let Q=A.filter(we=>!we.destroyed);Q.length?sl(this,_,Q):this.processLeaveNode(_)}return B.length=0,pi.forEach(f=>{this.players.push(f),f.onDone(()=>{f.destroy();let _=this.players.indexOf(f);this.players.splice(_,1)}),f.play()}),pi}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,i,r,s){let o=[];if(e){let a=this.playersByQueriedElement.get(t);a&&(o=a)}else{let a=this.playersByElement.get(t);if(a){let l=!s||s==Gt;a.forEach(c=>{c.queued||!l&&c.triggerName!=r||o.push(c)})}}return(i||r)&&(o=o.filter(a=>!(i&&i!=a.namespaceId||r&&r!=a.triggerName))),o}_beforeAnimationBuild(t,e,i){let r=e.triggerName,s=e.element,o=e.isRemovalTransition?void 0:t,a=e.isRemovalTransition?void 0:r;for(let l of e.timelines){let c=l.element,u=c!==s,d=pe(i,c,[]);this._getPreviousPlayers(c,u,o,a,e.toState).forEach(E=>{let g=E.getRealPlayer();g.beforeDestroy&&g.beforeDestroy(),E.destroy(),d.push(E)})}lt(s,e.fromStyles)}_buildAnimation(t,e,i,r,s,o){let a=e.triggerName,l=e.element,c=[],u=new Set,d=new Set,w=e.timelines.map(g=>{let S=g.element;u.add(S);let B=S[ge];if(B&&B.removedBeforeQueried)return new We(g.duration,g.delay);let z=S!==l,G=ol((i.get(S)||el).map(ie=>ie.getRealPlayer())).filter(ie=>{let oe=ie;return oe.element?oe.element===S:!1}),ne=s.get(S),X=o.get(S),vt=ws(this._normalizer,g.keyframes,ne,X),Se=this._buildPlayer(g,vt,G);if(g.subTimeline&&r&&d.add(S),z){let ie=new Xt(t,a,S);ie.setRealPlayer(Se),c.push(ie)}return Se});c.forEach(g=>{pe(this.playersByQueriedElement,g.element,[]).push(g),g.onDone(()=>nl(this.playersByQueriedElement,g.element,g))}),u.forEach(g=>me(g,ps));let E=Ye(w);return E.onDestroy(()=>{u.forEach(g=>Nt(g,ps)),Ae(l,e.toStyles)}),d.forEach(g=>{pe(r,g,[]).push(E)}),E}_buildPlayer(t,e,i){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,i):new We(t.duration,t.delay)}},Xt=class{constructor(t,e,i){this.namespaceId=t,this.triggerName=e,this.element=i,this._player=new We,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,this._queuedCallbacks.forEach((e,i)=>{e.forEach(r=>Wi(t,i,void 0,r))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){let e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){pe(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return this.queued?!1:this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){let e=this._player;e.triggerCallback&&e.triggerCallback(t)}};function nl(n,t,e){let i=n.get(t);if(i){if(i.length){let r=i.indexOf(e);i.splice(r,1)}i.length==0&&n.delete(t)}return i}function il(n){return n??null}function Tn(n){return n&&n.nodeType===1}function rl(n){return n=="start"||n=="done"}function _s(n,t){let e=n.style.display;return n.style.display=t??"none",e}function bs(n,t,e,i,r){let s=[];e.forEach(l=>s.push(_s(l)));let o=[];i.forEach((l,c)=>{let u=new Map;l.forEach(d=>{let w=t.computeStyle(c,d,r);u.set(d,w),(!w||w.length==0)&&(c[ge]=tl,o.push(c))}),n.set(c,u)});let a=0;return e.forEach(l=>_s(l,s[a++])),o}function Es(n,t){let e=new Map;if(n.forEach(a=>e.set(a,[])),t.length==0)return e;let i=1,r=new Set(t),s=new Map;function o(a){if(!a)return i;let l=s.get(a);if(l)return l;let c=a.parentNode;return e.has(c)?l=c:r.has(c)?l=i:l=o(c),s.set(a,l),l}return t.forEach(a=>{let l=o(a);l!==i&&e.get(l).push(a)}),e}function me(n,t){n.classList?.add(t)}function Nt(n,t){n.classList?.remove(t)}function sl(n,t,e){Ye(e).onDone(()=>n.processLeaveNode(t))}function ol(n){let t=[];return Rs(n,t),t}function Rs(n,t){for(let e=0;e<n.length;e++){let i=n[e];i instanceof zt?Rs(i.players,t):t.push(i)}}function al(n,t){let e=Object.keys(n),i=Object.keys(t);if(e.length!=i.length)return!1;for(let r=0;r<e.length;r++){let s=e[r];if(!t.hasOwnProperty(s)||n[s]!==t[s])return!1}return!0}function Ss(n,t,e){let i=e.get(n);if(!i)return!1;let r=t.get(n);return r?i.forEach(s=>r.add(s)):t.set(n,i),e.delete(n),!0}var Tt=class{constructor(t,e,i){this._driver=e,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(r,s)=>{},this._transitionEngine=new Ki(t.body,e,i),this._timelineEngine=new qi(t.body,e,i),this._transitionEngine.onRemovalComplete=(r,s)=>this.onRemovalComplete(r,s)}registerTrigger(t,e,i,r,s){let o=t+"-"+r,a=this._triggerCache[o];if(!a){let l=[],c=[],u=xs(this._driver,s,l,c);if(l.length)throw aa(r,l);c.length&&void 0,a=Ga(r,u,this._normalizer),this._triggerCache[o]=a}this._transitionEngine.registerTrigger(e,r,a)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,i,r){this._transitionEngine.insertNode(t,e,i,r)}onRemove(t,e,i){this._transitionEngine.removeNode(t,e,i)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,i,r){if(i.charAt(0)=="@"){let[s,o]=us(i),a=r;this._timelineEngine.command(s,e,o,a)}else this._transitionEngine.trigger(t,e,i,r)}listen(t,e,i,r,s){if(i.charAt(0)=="@"){let[o,a]=us(i);return this._timelineEngine.listen(o,e,a,s)}return this._transitionEngine.listen(t,e,i,r,s)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(t){this._transitionEngine.afterFlushAnimationsDone(t)}};function ll(n,t){let e=null,i=null;return Array.isArray(t)&&t.length?(e=Ii(t[0]),t.length>1&&(i=Ii(t[t.length-1]))):t instanceof Map&&(e=Ii(t)),e||i?new Gi(n,e,i):null}var Gi=class n{static{this.initialStylesByElement=new WeakMap}constructor(t,e,i){this._element=t,this._startStyles=e,this._endStyles=i,this._state=0;let r=n.initialStylesByElement.get(t);r||n.initialStylesByElement.set(t,r=new Map),this._initialStyles=r}start(){this._state<1&&(this._startStyles&&Ae(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Ae(this._element,this._initialStyles),this._endStyles&&(Ae(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(lt(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(lt(this._element,this._endStyles),this._endStyles=null),Ae(this._element,this._initialStyles),this._state=3)}};function Ii(n){let t=null;return n.forEach((e,i)=>{cl(i)&&(t=t||new Map,t.set(i,e))}),t}function cl(n){return n==="display"||n==="position"}var Fn=class{constructor(t,e,i,r){this.element=t,this.keyframes=e,this.options=i,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;let t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:new Map;let e=()=>this._onFinish();this.domPlayer.addEventListener("finish",e),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",e)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(t){let e=[];return t.forEach(i=>{e.push(Object.fromEntries(i))}),e}_triggerWebAnimation(t,e,i){return t.animate(this._convertKeyframesToObject(e),i)}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){this.domPlayer===void 0&&this.init(),this.domPlayer.currentTime=t*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){let t=new Map;this.hasStarted()&&this._finalKeyframe.forEach((i,r)=>{r!=="offset"&&t.set(r,this._finished?i:er(this.element,r))}),this.currentSnapshot=t}triggerCallback(t){let e=t==="start"?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}},kn=class{validateStyleProperty(t){return!0}validateAnimatableStyleProperty(t){return!0}containsElement(t,e){return Cs(t,e)}getParentElement(t){return Xi(t)}query(t,e,i){return Ns(t,e,i)}computeStyle(t,e,i){return er(t,e)}animate(t,e,i,r,s,o=[]){let a=r==0?"both":"forwards",l={duration:i,delay:r,fill:a};s&&(l.easing=s);let c=new Map,u=o.filter(E=>E instanceof Fn);Oa(i,r)&&u.forEach(E=>{E.currentSnapshot.forEach((g,S)=>c.set(S,g))});let d=Ta(e).map(E=>new Map(E));d=xa(t,d,c);let w=ll(t,d);return new Fn(t,d,l,w)}};var Dn="@",Fs="@.disabled",Ln=class{constructor(t,e,i,r){this.namespaceId=t,this.delegate=e,this.engine=i,this._onDestroy=r,this.\u0275type=0}get data(){return this.delegate.data}destroyNode(t){this.delegate.destroyNode?.(t)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,i,r=!0){this.delegate.insertBefore(t,e,i),this.engine.onInsert(this.namespaceId,e,t,r)}removeChild(t,e,i){this.parentNode(e)&&this.engine.onRemove(this.namespaceId,e,this.delegate)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,i,r){this.delegate.setAttribute(t,e,i,r)}removeAttribute(t,e,i){this.delegate.removeAttribute(t,e,i)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,i,r){this.delegate.setStyle(t,e,i,r)}removeStyle(t,e,i){this.delegate.removeStyle(t,e,i)}setProperty(t,e,i){e.charAt(0)==Dn&&e==Fs?this.disableAnimations(t,!!i):this.delegate.setProperty(t,e,i)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,i){return this.delegate.listen(t,e,i)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}},Qi=class extends Ln{constructor(t,e,i,r,s){super(e,i,r,s),this.factory=t,this.namespaceId=e}setProperty(t,e,i){e.charAt(0)==Dn?e.charAt(1)=="."&&e==Fs?(i=i===void 0?!0:!!i,this.disableAnimations(t,i)):this.engine.process(this.namespaceId,t,e.slice(1),i):this.delegate.setProperty(t,e,i)}listen(t,e,i){if(e.charAt(0)==Dn){let r=ul(t),s=e.slice(1),o="";return s.charAt(0)!=Dn&&([s,o]=dl(s)),this.engine.listen(this.namespaceId,r,s,o,a=>{let l=a._data||-1;this.factory.scheduleListenerCallback(l,i,a)})}return this.delegate.listen(t,e,i)}};function ul(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}function dl(n){let t=n.indexOf("."),e=n.substring(0,t),i=n.slice(t+1);return[e,i]}var Vn=class{constructor(t,e,i){this.delegate=t,this.engine=e,this._zone=i,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,e.onRemovalComplete=(r,s)=>{s?.removeChild(null,r)}}createRenderer(t,e){let i="",r=this.delegate.createRenderer(t,e);if(!t||!e?.data?.animation){let c=this._rendererCache,u=c.get(r);if(!u){let d=()=>c.delete(r);u=new Ln(i,r,this.engine,d),c.set(r,u)}return u}let s=e.id,o=e.id+"-"+this._currentId;this._currentId++,this.engine.register(o,t);let a=c=>{Array.isArray(c)?c.forEach(a):this.engine.registerTrigger(s,o,t,c.name,c)};return e.data.animation.forEach(a),new Qi(this,o,r,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(t,e,i){if(t>=0&&t<this._microtaskId){this._zone.run(()=>e(i));return}let r=this._animationCallbacksBuffer;r.length==0&&queueMicrotask(()=>{this._zone.run(()=>{r.forEach(s=>{let[o,a]=s;o(a)}),this._animationCallbacksBuffer=[]})}),r.push([e,i])}end(){this._cdRecurDepth--,this._cdRecurDepth==0&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}};var fl=(()=>{class n extends Tt{constructor(e,i,r){super(e,i,r)}ngOnDestroy(){this.flush()}static{this.\u0275fac=function(i){return new(i||n)(Ge(yn),Ge(ct),Ge(ut))}}static{this.\u0275prov=Ce({token:n,factory:n.\u0275fac})}}return n})();function hl(){return new xn}function ml(n,t,e){return new Vn(n,t,e)}var ks=[{provide:ut,useFactory:hl},{provide:Tt,useClass:fl},{provide:Ir,useFactory:ml,deps:[Qr,Tt,jt]}],gl=[{provide:ct,useFactory:()=>new kn},{provide:gi,useValue:"BrowserAnimations"},...ks],zu=[{provide:ct,useClass:Ji},{provide:gi,useValue:"NoopAnimations"},...ks];function Ls(){return Pr("NgEagerAnimations"),[...gl]}function vl(n,t){n&1&&(p(0,"i",11),L(1,"Download PDF"),m())}function yl(n,t){n&1&&(p(0,"div",12)(1,"span",13),L(2,"Loading..."),m()())}function _l(n,t){if(n&1){let e=se();p(0,"button",8),V("click",function(){P(e);let r=C();return R(r.download())}),I(1,vl,2,0,"i",9)(2,yl,3,0,"div",10),m()}if(n&2){let e=C();y(),h("ngIf",!e.isDownloading),y(),h("ngIf",e.isDownloading)}}function bl(n,t){n&1&&(p(0,"i",11),L(1,"Save"),m())}function El(n,t){n&1&&(p(0,"div",12)(1,"span",13),L(2,"Loading..."),m()())}function Sl(n,t){if(n&1){let e=se();p(0,"div",14)(1,"h4",15),L(2,"File To Import"),m(),p(3,"button",16),V("click",function(){let r=P(e).$implicit;return R(r.dismiss("Cross click"))}),m()(),p(4,"div",17)(5,"form")(6,"div",18)(7,"div")(8,"label",19),L(9,"Select File"),m(),p(10,"input",20),V("change",function(r){P(e);let s=C();return R(s.onFileSelected(r))}),m()()(),p(11,"div",21)(12,"button",22),V("click",function(){let r=P(e).$implicit;return R(r.dismiss("Cross click"))}),L(13,"Close"),m(),p(14,"button",23),V("click",function(){P(e);let r=C();return R(r.submit())}),I(15,bl,2,0,"i",9)(16,El,3,0,"div",10),m()()()()}if(n&2){let e=C();y(15),h("ngIf",!e.isImporting),y(),h("ngIf",e.isImporting)}}var jn=class n{toggleCollapse=new Ne;catalogue=null;logo=!1;_mainService=re(Ct);sanitizer=re(Yr);safeHtml;isDownloading=!1;isImporting=!1;modalService=re(bn);file=null;openModal(t){this.modalService.open(t,{centered:!0,size:"lg"})}submit(){if(this.file){this.isImporting=!0;let t=new FormData;t.append("file",this.file),this._mainService.importFile(t).subscribe({next:e=>{this.isImporting=!1,this.modalService.dismissAll(),alert("import successfully"),location.reload()}})}else alert("select file to continue")}onFileSelected(t){this.file=t.target.files[0]}toggle(){this.logo=!this.logo,this.toggleCollapse.emit()}download(){this.isDownloading=!0,this._mainService.downloadPdf(this.catalogue.id).subscribe({next:t=>{let e=window.URL.createObjectURL(t),i=document.createElement("a");document.body.appendChild(i),i.setAttribute("style","display: none"),i.href=e,i.download="download.pdf",i.click(),window.URL.revokeObjectURL(e),i.remove(),this.isDownloading=!1}})}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=j({type:n,selectors:[["app-header"]],inputs:{catalogue:"catalogue"},outputs:{toggleCollapse:"toggleCollapse"},standalone:!0,features:[ae],decls:11,vars:1,consts:[["content",""],[1,"navbar","navbar-dark","bg-purple","navbar-expand-sm"],[1,"container-fluid","align-items-center","px-0"],[1,"d-flex","align-items-center","me-5"],[1,"navbar-text","text-white","h5","me-5","pe-5","d-md-block","d-none"],[1,"me-3","d-flex","align-items-center"],[1,"btn","btn-lg","btn1",3,"click"],["class","btn btn-lg btn1 ms-2","type","button",3,"click",4,"ngIf"],["type","button",1,"btn","btn-lg","btn1","ms-2",3,"click"],["class","bi bi-download",4,"ngIf"],["class","spinner-border","role","status",4,"ngIf"],[1,"bi","bi-download"],["role","status",1,"spinner-border"],[1,"visually-hidden"],[1,"modal-header"],["id","modal-basic-title",1,"modal-title"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[1,"form-group","mb-1"],[1,"form-label"],["type","file",1,"form-control",3,"change"],[1,"mt-3","d-flex","justify-content-end"],["type","button",1,"btn","btn-danger","me-2",3,"click"],["type","button",1,"btn","btn2",3,"click"]],template:function(e,i){if(e&1){let r=se();p(0,"nav",1)(1,"div",2),k(2,"div",3),p(3,"div",4),L(4," BiSemA Corporation Cloud Specification Services "),m(),p(5,"div",5)(6,"button",6),V("click",function(){P(r);let o=bt(10);return R(i.openModal(o))}),L(7,"Import CSV"),m(),I(8,_l,3,2,"button",7),m()()(),I(9,Sl,17,2,"ng-template",null,0,vn)}e&2&&(y(8),h("ngIf",i.catalogue))},dependencies:[Te,he]})};var or=function(n,t){return or=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var r in i)i.hasOwnProperty(r)&&(e[r]=i[r])},or(n,t)};function Qs(n,t){or(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}var le=function(){return le=Object.assign||function(t){for(var e,i=1,r=arguments.length;i<r;i++){e=arguments[i];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s])}return t},le.apply(this,arguments)};function Ws(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var i=e.call(n),r,s=[],o;try{for(;(t===void 0||t-- >0)&&!(r=i.next()).done;)s.push(r.value)}catch(a){o={error:a}}finally{try{r&&!r.done&&(e=i.return)&&e.call(i)}finally{if(o)throw o.error}}return s}function ar(){for(var n=[],t=0;t<arguments.length;t++)n=n.concat(Ws(arguments[t]));return n}var wl="An invariant failed, however the error is obfuscated because this is an production build.",Hn=[];Object.freeze(Hn);var fr={};Object.freeze(fr);var Cl={};function lr(){return typeof window<"u"?window:typeof global<"u"?global:Cl}function ce(){return++v.mobxGuid}function $(n){throw Zt(!1,n),"X"}function Zt(n,t){if(!n)throw new Error("[mobx] "+(t||wl))}var Vs=[];function Be(n,t){return!1}function hr(n){var t=!1;return function(){if(!t)return t=!0,n.apply(this,arguments)}}var js=function(){};function Nl(n){var t=[];return n.forEach(function(e){t.indexOf(e)===-1&&t.push(e)}),t}function mr(n){return n!==null&&typeof n=="object"}function Mt(n){if(n===null||typeof n!="object")return!1;var t=Object.getPrototypeOf(n);return t===Object.prototype||t===null}function Tl(n){return It(n)||gt(n)?n:Array.isArray(n)?new Map(n):Mt(n)?new Map(Object.entries(n)):$("Cannot convert to map from '"+n+"'")}function Dl(n,t){for(var e=0;e<t.length;e++)ht(n,t[e],n[t[e]])}function ht(n,t,e){Object.defineProperty(n,t,{enumerable:!1,writable:!0,configurable:!0,value:e})}function rn(n,t,e){Object.defineProperty(n,t,{enumerable:!1,writable:!1,configurable:!0,value:e})}function et(n,t){var e="isMobX"+n;return t.prototype[e]=!0,function(i){return mr(i)&&i[e]===!0}}function Al(n,t){return typeof n=="number"&&typeof t=="number"&&isNaN(n)&&isNaN(t)}function It(n){return lr().Map!==void 0&&n instanceof lr().Map}function sn(n){return n instanceof Set}function Ot(n){for(var t=[];;){var e=n.next();if(e.done)break;t.push(e.value)}return t}function Ys(){return typeof Symbol=="function"&&Symbol.toPrimitive||"@@toPrimitive"}function Xs(n){return n===null?null:typeof n=="object"?""+n:n}function gr(){return typeof Symbol=="function"&&Symbol.iterator||"@@iterator"}function vr(n,t){rn(n,gr(),t)}function en(n){return n[gr()]=Ol,n}function yr(){return typeof Symbol=="function"&&Symbol.toStringTag||"@@toStringTag"}function Ol(){return this}var Qn=function(){function n(t){t===void 0&&(t="Atom@"+ce()),this.name=t,this.isPendingUnobservation=!1,this.isBeingObserved=!1,this.observers=[],this.observersIndexes={},this.diffValue=0,this.lastAccessedBy=0,this.lowestObserverState=F.NOT_TRACKING}return n.prototype.onBecomeUnobserved=function(){},n.prototype.onBecomeObserved=function(){},n.prototype.reportObserved=function(){return po(this)},n.prototype.reportChanged=function(){$e(),Jl(this),He()},n.prototype.toString=function(){return this.name},n}(),_r=et("Atom",Qn);function xl(n,t,e){t===void 0&&(t=js),e===void 0&&(e=js);var i=new Qn(n);return uc(i,t),vo(i,e),i}function Js(n,t){return n===t}function Ml(n,t){return wr(n,t)}function Il(n,t){return wr(n,t,1)}function Pl(n,t){return Al(n,t)||Js(n,t)}var xt={identity:Js,structural:Ml,default:Pl,shallow:Il},Rl={},Fl={};function kl(n,t){var e=t?Rl:Fl;return e[n]||(e[n]={configurable:!0,enumerable:t,get:function(){return pt(this),this[n]},set:function(i){pt(this),this[n]=i}})}function pt(n){if(n.__mobxDidRunLazyInitializers!==!0){var t=n.__mobxDecorators;if(t){ht(n,"__mobxDidRunLazyInitializers",!0);for(var e in t){var i=t[e];i.propertyCreator(n,i.prop,i.descriptor,i.decoratorTarget,i.decoratorArguments)}}}}function Zs(n,t){return function(){var i,r=function(o,a,l,c){if(c===!0)return t(o,a,l,o,i),null;if(!Object.prototype.hasOwnProperty.call(o,"__mobxDecorators")){var u=o.__mobxDecorators;ht(o,"__mobxDecorators",le({},u))}return o.__mobxDecorators[a]={prop:a,propertyCreator:t,descriptor:l,decoratorTarget:o,decoratorArguments:i},kl(a,n)};return Ll(arguments)?(i=Hn,r.apply(null,arguments)):(i=Array.prototype.slice.call(arguments),r)}}function Ll(n){return(n.length===2||n.length===3)&&typeof n[1]=="string"||n.length===4&&n[3]===!0}function on(n,t,e){return bo(n)?n:Array.isArray(n)?D.array(n,{name:e}):Mt(n)?D.object(n,void 0,{name:e}):It(n)?D.map(n,{name:e}):sn(n)?D.set(n,{name:e}):n}function Vl(n,t,e){return n==null||nn(n)||Jn(n)||gt(n)||Rt(n)?n:Array.isArray(n)?D.array(n,{name:e,deep:!1}):Mt(n)?D.object(n,void 0,{name:e,deep:!1}):It(n)?D.map(n,{name:e,deep:!1}):sn(n)?D.set(n,{name:e,deep:!1}):$(!1)}function tn(n){return n}function jl(n,t,e){return wr(n,t)?t:n}function Wn(n){var t=Zs(!0,function(i,r,s,o,a){var l=s?s.initializer?s.initializer.call(i):s.value:void 0;Cc(i,r,l,n)}),e=(typeof process<"u"&&process.env,t);return e.enhancer=n,e}var eo={deep:!0,name:void 0,defaultDecorator:void 0},Bl={deep:!1,name:void 0,defaultDecorator:void 0};Object.freeze(eo);Object.freeze(Bl);function At(n){return n==null?eo:typeof n=="string"?{name:n,deep:!0}:n}function Bn(n){return n.defaultDecorator?n.defaultDecorator.enhancer:n.deep===!1?tn:on}var br=Wn(on),$l=Wn(Vl),to=Wn(tn),Hl=Wn(jl);function Ul(n,t,e){if(typeof arguments[1]=="string")return br.apply(null,arguments);if(bo(n))return n;var i=Mt(n)?D.object(n,t,e):Array.isArray(n)?D.array(n,t):It(n)?D.map(n,t):sn(n)?D.set(n,t):n;if(i!==n)return i;$(!1)}var Bs={box:function(n,t){arguments.length>2&&Ve("box");var e=At(t);return new Je(n,Bn(e),e.name,!0,e.equals)},shallowBox:function(n,t){return arguments.length>2&&Ve("shallowBox"),Be("observable.shallowBox","observable.box(value, { deep: false })"),D.box(n,{name:t,deep:!1})},array:function(n,t){arguments.length>2&&Ve("array");var e=At(t);return new qe(n,Bn(e),e.name)},shallowArray:function(n,t){return arguments.length>2&&Ve("shallowArray"),Be("observable.shallowArray","observable.array(values, { deep: false })"),D.array(n,{name:t,deep:!1})},map:function(n,t){arguments.length>2&&Ve("map");var e=At(t);return new Zn(n,Bn(e),e.name)},shallowMap:function(n,t){return arguments.length>2&&Ve("shallowMap"),Be("observable.shallowMap","observable.map(values, { deep: false })"),D.map(n,{name:t,deep:!1})},set:function(n,t){arguments.length>2&&Ve("set");var e=At(t);return new ei(n,Bn(e),e.name)},object:function(n,t,e){typeof arguments[1]=="string"&&Ve("object");var i=At(e);return dc({},n,t,i)},shallowObject:function(n,t){return typeof arguments[1]=="string"&&Ve("shallowObject"),Be("observable.shallowObject","observable.object(values, {}, { deep: false })"),D.object(n,{},{name:t,deep:!1})},ref:to,shallow:$l,deep:br,struct:Hl},D=Ul;Object.keys(Bs).forEach(function(n){return D[n]=Bs[n]});function Ve(n){$("Expected one or two arguments to observable."+n+". Did you accidentally try to use observable."+n+" as decorator?")}var Un=Zs(!1,function(n,t,e,i,r){var s=e.get,o=e.set,a=r[0]||{};Nc(n,t,le({get:s,set:o},a))}),ql=Un({equals:xt.structural}),U=function(t,e,i){if(typeof e=="string"||t!==null&&typeof t=="object"&&arguments.length===1)return Un.apply(null,arguments);var r=typeof e=="object"?e:{};return r.get=t,r.set=typeof e=="function"?e:r.set,r.name=r.name||t.name||"",new Ze(r)};U.struct=ql;var F=function(n){return n[n.NOT_TRACKING=-1]="NOT_TRACKING",n[n.UP_TO_DATE=0]="UP_TO_DATE",n[n.POSSIBLY_STALE=1]="POSSIBLY_STALE",n[n.STALE=2]="STALE",n}(F||{}),xe=function(n){return n[n.NONE=0]="NONE",n[n.LOG=1]="LOG",n[n.BREAK=2]="BREAK",n}(xe||{}),qn=function(){function n(t){this.cause=t}return n}();function Jt(n){return n instanceof qn}function cr(n){switch(n.dependenciesState){case F.UP_TO_DATE:return!1;case F.NOT_TRACKING:case F.STALE:return!0;case F.POSSIBLY_STALE:{for(var t=Pt(),e=n.observing,i=e.length,r=0;r<i;r++){var s=e[r];if(Xn(s)){if(v.disableErrorBoundaries)s.get();else try{s.get()}catch{return Xe(t),!0}if(n.dependenciesState===F.STALE)return Xe(t),!0}}return oo(n),Xe(t),!1}}}function Yn(n){var t=n.observers.length>0;v.computationDepth>0&&t&&$(!1),!v.allowStateChanges&&(t||v.enforceActions==="strict")&&$(!1)}function no(n,t,e){var i=ro(!0);oo(n),n.newObserving=new Array(n.observing.length+100),n.unboundDepsCount=0,n.runId=++v.runId;var r=v.trackingDerivation;v.trackingDerivation=n;var s;if(v.disableErrorBoundaries===!0)s=t.call(e);else try{s=t.call(e)}catch(o){s=new qn(o)}return v.trackingDerivation=r,zl(n),n.observing.length===0&&void 0,so(i),s}function zl(n){for(var t=n.observing,e=n.observing=n.newObserving,i=F.UP_TO_DATE,r=0,s=n.unboundDepsCount,o=0;o<s;o++){var a=e[o];a.diffValue===0&&(a.diffValue=1,r!==o&&(e[r]=a),r++),a.dependenciesState>i&&(i=a.dependenciesState)}for(e.length=r,n.newObserving=null,s=t.length;s--;){var a=t[s];a.diffValue===0&&co(a,n),a.diffValue=0}for(;r--;){var a=e[r];a.diffValue===1&&(a.diffValue=0,Xl(a,n))}i!==F.UP_TO_DATE&&(n.dependenciesState=i,n.onBecomeStale())}function ur(n){var t=n.observing;n.observing=[];for(var e=t.length;e--;)co(t[e],n);n.dependenciesState=F.NOT_TRACKING}function io(n){var t=Pt(),e=n();return Xe(t),e}function Pt(){var n=v.trackingDerivation;return v.trackingDerivation=null,n}function Xe(n){v.trackingDerivation=n}function ro(n){var t=v.allowStateReads;return v.allowStateReads=n,t}function so(n){v.allowStateReads=n}function oo(n){if(n.dependenciesState!==F.UP_TO_DATE){n.dependenciesState=F.UP_TO_DATE;for(var t=n.observing,e=t.length;e--;)t[e].lowestObserverState=F.UP_TO_DATE}}var zn=0,Kl=1;function dt(n,t){var e=function(){return Gl(n,t,this,arguments)};return e.isMobxAction=!0,e}function Gl(n,t,e,i){var r=Ql(n,e,i);try{return t.apply(e,i)}catch(s){throw r.error=s,s}finally{Wl(r)}}function Ql(n,t,e){var i=J()&&!!n,r=0;if(i){r=Date.now();var s=e&&e.length||0,o=new Array(s);if(s>0)for(var a=0;a<s;a++)o[a]=e[a];ve({type:"action",name:n,object:t,arguments:o})}var l=Pt();$e();var c=ao(!0),u=ro(!0),d={prevDerivation:l,prevAllowStateChanges:c,prevAllowStateReads:u,notifySpy:i,startTime:r,actionId:Kl++,parentActionId:zn};return zn=d.actionId,d}function Wl(n){zn!==n.actionId&&$("invalid action stack. did you forget to finish an action?"),zn=n.parentActionId,n.error!==void 0&&(v.suppressReactionErrors=!0),lo(n.prevAllowStateChanges),so(n.prevAllowStateReads),He(),Xe(n.prevDerivation),n.notifySpy&&ye({time:Date.now()-n.startTime}),v.suppressReactionErrors=!1}function ao(n){var t=v.allowStateChanges;return v.allowStateChanges=n,t}function lo(n){v.allowStateChanges=n}var Je=function(n){Qs(t,n);function t(e,i,r,s,o){r===void 0&&(r="ObservableValue@"+ce()),s===void 0&&(s=!0),o===void 0&&(o=xt.default);var a=n.call(this,r)||this;return a.enhancer=i,a.name=r,a.equals=o,a.hasUnreportedChange=!1,a.value=i(e,void 0,r),s&&J()&&ft({type:"create",name:a.name,newValue:""+a.value}),a}return t.prototype.dehanceValue=function(e){return this.dehancer!==void 0?this.dehancer(e):e},t.prototype.set=function(e){var i=this.value;if(e=this.prepareNewValue(e),e!==v.UNCHANGED){var r=J();r&&ve({type:"update",name:this.name,newValue:e,oldValue:i}),this.setNewValue(e),r&&ye()}},t.prototype.prepareNewValue=function(e){if(Yn(this),Me(this)){var i=Ie(this,{object:this,type:"update",newValue:e});if(!i)return v.UNCHANGED;e=i.newValue}return e=this.enhancer(e,this.value,this.name),this.equals(this.value,e)?v.UNCHANGED:e},t.prototype.setNewValue=function(e){var i=this.value;this.value=e,this.reportChanged(),_e(this)&&be(this,{type:"update",object:this,newValue:e,oldValue:i})},t.prototype.get=function(){return this.reportObserved(),this.dehanceValue(this.value)},t.prototype.intercept=function(e){return ln(this,e)},t.prototype.observe=function(e,i){return i&&e({object:this,type:"update",newValue:this.value,oldValue:void 0}),cn(this,e)},t.prototype.toJSON=function(){return this.get()},t.prototype.toString=function(){return this.name+"["+this.value+"]"},t.prototype.valueOf=function(){return Xs(this.get())},t}(Qn);Je.prototype[Ys()]=Je.prototype.valueOf;var rd=et("ObservableValue",Je),Ze=function(){function n(t){this.dependenciesState=F.NOT_TRACKING,this.observing=[],this.newObserving=null,this.isBeingObserved=!1,this.isPendingUnobservation=!1,this.observers=[],this.observersIndexes={},this.diffValue=0,this.runId=0,this.lastAccessedBy=0,this.lowestObserverState=F.UP_TO_DATE,this.unboundDepsCount=0,this.__mapid="#"+ce(),this.value=new qn(null),this.isComputing=!1,this.isRunningSetter=!1,this.isTracing=xe.NONE,this.derivation=t.get,this.name=t.name||"ComputedValue@"+ce(),t.set&&(this.setter=dt(this.name+"-setter",t.set)),this.equals=t.equals||(t.compareStructural||t.struct?xt.structural:xt.default),this.scope=t.context,this.requiresReaction=!!t.requiresReaction,this.keepAlive=!!t.keepAlive}return n.prototype.onBecomeStale=function(){ec(this)},n.prototype.onBecomeUnobserved=function(){},n.prototype.onBecomeObserved=function(){},n.prototype.get=function(){this.isComputing&&$("Cycle detected in computation "+this.name+": "+this.derivation),v.inBatch===0&&this.observers.length===0&&!this.keepAlive?cr(this)&&(this.warnAboutUntrackedRead(),$e(),this.value=this.computeValue(!1),He()):(po(this),cr(this)&&this.trackAndCompute()&&Zl(this));var t=this.value;if(Jt(t))throw t.cause;return t},n.prototype.peek=function(){var t=this.computeValue(!1);if(Jt(t))throw t.cause;return t},n.prototype.set=function(t){if(this.setter){Zt(!this.isRunningSetter,"The setter of computed value '"+this.name+"' is trying to update itself. Did you intend to update an _observable_ value, instead of the computed property?"),this.isRunningSetter=!0;try{this.setter.call(this.scope,t)}finally{this.isRunningSetter=!1}}else Zt(!1,!1)},n.prototype.trackAndCompute=function(){J()&&ft({object:this.scope,type:"compute",name:this.name});var t=this.value,e=this.dependenciesState===F.NOT_TRACKING,i=this.computeValue(!0),r=e||Jt(t)||Jt(i)||!this.equals(t,i);return r&&(this.value=i),r},n.prototype.computeValue=function(t){this.isComputing=!0,v.computationDepth++;var e;if(t)e=no(this,this.derivation,this.scope);else if(v.disableErrorBoundaries===!0)e=this.derivation.call(this.scope);else try{e=this.derivation.call(this.scope)}catch(i){e=new qn(i)}return v.computationDepth--,this.isComputing=!1,e},n.prototype.suspend=function(){this.keepAlive||(ur(this),this.value=void 0)},n.prototype.observe=function(t,e){var i=this,r=!0,s=void 0;return an(function(){var o=i.get();if(!r||e){var a=Pt();t({type:"update",object:i,newValue:o,oldValue:s}),Xe(a)}r=!1,s=o})},n.prototype.warnAboutUntrackedRead=function(){},n.prototype.toJSON=function(){return this.get()},n.prototype.toString=function(){return this.name+"["+this.derivation.toString()+"]"},n.prototype.valueOf=function(){return Xs(this.get())},n}();Ze.prototype[Ys()]=Ze.prototype.valueOf;var Xn=et("ComputedValue",Ze);var ir=function(){function n(){this.version=5,this.UNCHANGED={},this.trackingDerivation=null,this.computationDepth=0,this.runId=0,this.mobxGuid=0,this.inBatch=0,this.pendingUnobservations=[],this.pendingReactions=[],this.isRunningReactions=!1,this.allowStateChanges=!0,this.allowStateReads=!0,this.enforceActions=!1,this.spyListeners=[],this.globalReactionErrorHandlers=[],this.computedRequiresReaction=!1,this.reactionRequiresObservable=!1,this.observableRequiresReaction=!1,this.computedConfigurable=!1,this.disableErrorBoundaries=!1,this.suppressReactionErrors=!1}return n}(),rr=!0,Yl=!1,v=function(){var n=lr();return n.__mobxInstanceCount>0&&!n.__mobxGlobals&&(rr=!1),n.__mobxGlobals&&n.__mobxGlobals.version!==new ir().version&&(rr=!1),rr?n.__mobxGlobals?(n.__mobxInstanceCount+=1,n.__mobxGlobals.UNCHANGED||(n.__mobxGlobals.UNCHANGED={}),n.__mobxGlobals):(n.__mobxInstanceCount=1,n.__mobxGlobals=new ir):(setTimeout(function(){Yl||$("There are multiple, different versions of MobX active. Make sure MobX is loaded only once or use `configure({ isolateGlobalState: true })`")},1),new ir)}();function Xl(n,t){var e=n.observers.length;e&&(n.observersIndexes[t.__mapid]=e),n.observers[e]=t,n.lowestObserverState>t.dependenciesState&&(n.lowestObserverState=t.dependenciesState)}function co(n,t){if(n.observers.length===1)n.observers.length=0,uo(n);else{var e=n.observers,i=n.observersIndexes,r=e.pop();if(r!==t){var s=i[t.__mapid]||0;s?i[r.__mapid]=s:delete i[r.__mapid],e[s]=r}delete i[t.__mapid]}}function uo(n){n.isPendingUnobservation===!1&&(n.isPendingUnobservation=!0,v.pendingUnobservations.push(n))}function $e(){v.inBatch++}function He(){if(--v.inBatch===0){mo();for(var n=v.pendingUnobservations,t=0;t<n.length;t++){var e=n[t];e.isPendingUnobservation=!1,e.observers.length===0&&(e.isBeingObserved&&(e.isBeingObserved=!1,e.onBecomeUnobserved()),e instanceof Ze&&e.suspend())}v.pendingUnobservations=[]}}function po(n){var t=v.trackingDerivation;return t!==null?(t.runId!==n.lastAccessedBy&&(n.lastAccessedBy=t.runId,t.newObserving[t.unboundDepsCount++]=n,n.isBeingObserved||(n.isBeingObserved=!0,n.onBecomeObserved())),!0):(n.observers.length===0&&v.inBatch>0&&uo(n),!1)}function Jl(n){if(n.lowestObserverState!==F.STALE){n.lowestObserverState=F.STALE;for(var t=n.observers,e=t.length;e--;){var i=t[e];i.dependenciesState===F.UP_TO_DATE&&(i.isTracing!==xe.NONE&&fo(i,n),i.onBecomeStale()),i.dependenciesState=F.STALE}}}function Zl(n){if(n.lowestObserverState!==F.STALE){n.lowestObserverState=F.STALE;for(var t=n.observers,e=t.length;e--;){var i=t[e];i.dependenciesState===F.POSSIBLY_STALE?i.dependenciesState=F.STALE:i.dependenciesState===F.UP_TO_DATE&&(n.lowestObserverState=F.UP_TO_DATE)}}}function ec(n){if(n.lowestObserverState===F.UP_TO_DATE){n.lowestObserverState=F.POSSIBLY_STALE;for(var t=n.observers,e=t.length;e--;){var i=t[e];i.dependenciesState===F.UP_TO_DATE&&(i.dependenciesState=F.POSSIBLY_STALE,i.isTracing!==xe.NONE&&fo(i,n),i.onBecomeStale())}}}function fo(n,t){if(console.log("[mobx.trace] '"+n.name+"' is invalidated due to a change in: '"+t.name+"'"),n.isTracing===xe.BREAK){var e=[];ho(pc(n),e,1),new Function(`debugger;
/*
Tracing '`+n.name+`'

You are entering this break point because derivation '`+n.name+"' is being traced and '"+t.name+`' is now forcing it to update.
Just follow the stacktrace you should now see in the devtools to see precisely what piece of your code is causing this update
The stackframe you are looking for is at least ~6-8 stack-frames up.

`+(n instanceof Ze?n.derivation.toString().replace(/[*]\//g,"/"):"")+`

The dependencies for this derivation are:

`+e.join(`
`)+`
*/
    `)()}}function ho(n,t,e){if(t.length>=1e3){t.push("(and many more)");return}t.push(""+new Array(e).join("	")+n.name),n.dependencies&&n.dependencies.forEach(function(i){return ho(i,t,e+1)})}var Kn=function(){function n(t,e,i,r){t===void 0&&(t="Reaction@"+ce()),r===void 0&&(r=!1),this.name=t,this.onInvalidate=e,this.errorHandler=i,this.requiresObservable=r,this.observing=[],this.newObserving=[],this.dependenciesState=F.NOT_TRACKING,this.diffValue=0,this.runId=0,this.unboundDepsCount=0,this.__mapid="#"+ce(),this.isDisposed=!1,this._isScheduled=!1,this._isTrackPending=!1,this._isRunning=!1,this.isTracing=xe.NONE}return n.prototype.onBecomeStale=function(){this.schedule()},n.prototype.schedule=function(){this._isScheduled||(this._isScheduled=!0,v.pendingReactions.push(this),mo())},n.prototype.isScheduled=function(){return this._isScheduled},n.prototype.runReaction=function(){if(!this.isDisposed){if($e(),this._isScheduled=!1,cr(this)){this._isTrackPending=!0;try{this.onInvalidate(),this._isTrackPending&&J()&&ft({name:this.name,type:"scheduled-reaction"})}catch(t){this.reportExceptionInDerivation(t)}}He()}},n.prototype.track=function(t){$e();var e=J(),i;e&&(i=Date.now(),ve({name:this.name,type:"reaction"})),this._isRunning=!0;var r=no(this,t,void 0);this._isRunning=!1,this._isTrackPending=!1,this.isDisposed&&ur(this),Jt(r)&&this.reportExceptionInDerivation(r.cause),e&&ye({time:Date.now()-i}),He()},n.prototype.reportExceptionInDerivation=function(t){var e=this;if(this.errorHandler){this.errorHandler(t,this);return}if(v.disableErrorBoundaries)throw t;var i="[mobx] Encountered an uncaught exception that was thrown by a reaction or observer component, in: '"+this+"'";v.suppressReactionErrors?console.warn("[mobx] (error in reaction '"+this.name+"' suppressed, fix error of causing action below)"):console.error(i,t),J()&&ft({type:"error",name:this.name,message:i,error:""+t}),v.globalReactionErrorHandlers.forEach(function(r){return r(t,e)})},n.prototype.dispose=function(){this.isDisposed||(this.isDisposed=!0,this._isRunning||($e(),ur(this),He()))},n.prototype.getDisposer=function(){var t=this.dispose.bind(this);return t.$mobx=this,t},n.prototype.toString=function(){return"Reaction["+this.name+"]"},n.prototype.trace=function(t){t===void 0&&(t=!1),hc(this,t)},n}();var $s=100,tc=function(n){return n()};function mo(){v.inBatch>0||v.isRunningReactions||tc(nc)}function nc(){v.isRunningReactions=!0;for(var n=v.pendingReactions,t=0;n.length>0;){++t===$s&&(console.error("Reaction doesn't converge to a stable state after "+$s+" iterations."+(" Probably there is a cycle in the reactive function: "+n[0])),n.splice(0));for(var e=n.splice(0),i=0,r=e.length;i<r;i++)e[i].runReaction()}v.isRunningReactions=!1}var Gn=et("Reaction",Kn);function J(){return!!v.spyListeners.length}function ft(n){if(v.spyListeners.length)for(var t=v.spyListeners,e=0,i=t.length;e<i;e++)t[e](n)}function ve(n){var t=le({},n,{spyReportStart:!0});ft(t)}var ic={spyReportEnd:!0};function ye(n){ft(n?le({},n,{spyReportEnd:!0}):ic)}function rc(n){return v.spyListeners.push(n),hr(function(){v.spyListeners=v.spyListeners.filter(function(t){return t!==n})})}function sc(){$(!1)}function Hs(n){return function(t,e,i){if(i){if(i.value)return{value:dt(n,i.value),enumerable:!1,configurable:!0,writable:!0};var r=i.initializer;return{enumerable:!1,configurable:!0,writable:!0,initializer:function(){return dt(n,r.call(this))}}}return oc(n).apply(this,arguments)}}function oc(n){return function(t,e,i){Object.defineProperty(t,e,{configurable:!0,enumerable:!1,get:function(){},set:function(r){ht(this,e,x(n,r))}})}}function ac(n,t,e,i){return i===!0?(sr(n,t,e.value),null):e?{configurable:!0,enumerable:!1,get:function(){return sr(this,t,e.value||e.initializer.call(this)),this[t]},set:sc}:{enumerable:!1,configurable:!0,set:function(r){sr(this,t,r)},get:function(){}}}var x=function(t,e,i,r){if(arguments.length===1&&typeof t=="function")return dt(t.name||"<unnamed action>",t);if(arguments.length===2&&typeof e=="function")return dt(t,e);if(arguments.length===1&&typeof t=="string")return Hs(t);if(r===!0)t[e]=dt(t.name||e,i.value);else return Hs(e).apply(null,arguments)};x.bound=ac;function sr(n,t,e){ht(n,t,dt(t,e.bind(n)))}function an(n,t){t===void 0&&(t=fr);var e=t&&t.name||n.name||"Autorun@"+ce(),i=!t.scheduler&&!t.delay,r;if(i)r=new Kn(e,function(){this.track(a)},t.onError,t.requiresObservable);else{var s=go(t),o=!1;r=new Kn(e,function(){o||(o=!0,s(function(){o=!1,r.isDisposed||r.track(a)}))},t.onError,t.requiresObservable)}function a(){n(r)}return r.schedule(),r.getDisposer()}var lc=function(n){return n()};function go(n){return n.scheduler?n.scheduler:n.delay?function(t){return setTimeout(t,n.delay)}:lc}function mt(n,t,e){e===void 0&&(e=fr),typeof e=="boolean"&&(e={fireImmediately:e},Be("Using fireImmediately as argument is deprecated. Use '{ fireImmediately: true }' instead"));var i=e.name||"Reaction@"+ce(),r=x(i,e.onError?cc(e.onError,t):t),s=!e.scheduler&&!e.delay,o=go(e),a=!0,l=!1,c,u=e.compareStructural?xt.structural:e.equals||xt.default,d=new Kn(i,function(){a||s?w():l||(l=!0,o(w))},e.onError,e.requiresObservable);function w(){if(l=!1,!d.isDisposed){var E=!1;d.track(function(){var g=n(d);E=a||!u(c,g),c=g}),a&&e.fireImmediately&&r(c,d),!a&&E===!0&&r(c,d),a&&(a=!1)}}return d.schedule(),d.getDisposer()}function cc(n,t){return function(){try{return t.apply(this,arguments)}catch(e){n.call(this,e)}}}function uc(n,t,e){return yo("onBecomeObserved",n,t,e)}function vo(n,t,e){return yo("onBecomeUnobserved",n,t,e)}function yo(n,t,e,i){var r=typeof i=="function"?Ue(t,e):Ue(t),s=typeof i=="function"?i:e,o=r[n];return typeof o!="function"?$(!1):(r[n]=function(){o.call(this),s.call(this)},function(){r[n]=o})}function dc(n,t,e,i){if(0&&e)for(var r in e);i=At(i);var s=i.defaultDecorator||(i.deep===!1?to:br);pt(n),Sr(n,i.name,s.enhancer),$e();try{for(var r in t){var o=Object.getOwnPropertyDescriptor(t,r),a=e&&r in e?e[r]:o.get?Un:s,l=a(n,r,o,!0);l&&Object.defineProperty(n,r,l)}}finally{He()}return n}function pc(n,t){return _o(Ue(n,t))}function _o(n){var t={name:n.name};return n.observing&&n.observing.length>0&&(t.dependencies=Nl(n.observing).map(_o)),t}function fc(n,t){if(n==null)return!1;if(t!==void 0){if(nn(n)){var e=n.$mobx;return e.values&&!!e.values[t]}return!1}return nn(n)||!!n.$mobx||_r(n)||Gn(n)||Xn(n)}function bo(n){return arguments.length!==1&&$(!1),fc(n)}function hc(){for(var n=[],t=0;t<arguments.length;t++)n[t]=arguments[t];var e=!1;typeof n[n.length-1]=="boolean"&&(e=n.pop());var i=mc(n);if(!i)return $(!1);i.isTracing===xe.NONE&&console.log("[mobx.trace] '"+i.name+"' tracing enabled"),i.isTracing=e?xe.BREAK:xe.LOG}function mc(n){switch(n.length){case 0:return v.trackingDerivation;case 1:return Ue(n[0]);case 2:return Ue(n[0],n[1])}}function je(n,t){t===void 0&&(t=void 0),$e();try{return n.apply(t)}finally{He()}}function Me(n){return n.interceptors!==void 0&&n.interceptors.length>0}function ln(n,t){var e=n.interceptors||(n.interceptors=[]);return e.push(t),hr(function(){var i=e.indexOf(t);i!==-1&&e.splice(i,1)})}function Ie(n,t){var e=Pt();try{var i=n.interceptors;if(i)for(var r=0,s=i.length;r<s&&(t=i[r](t),Zt(!t||t.type,"Intercept handlers should return nothing or a change object"),!!t);r++);return t}finally{Xe(e)}}function _e(n){return n.changeListeners!==void 0&&n.changeListeners.length>0}function cn(n,t){var e=n.changeListeners||(n.changeListeners=[]);return e.push(t),hr(function(){var i=e.indexOf(t);i!==-1&&e.splice(i,1)})}function be(n,t){var e=Pt(),i=n.changeListeners;if(i){i=i.slice();for(var r=0,s=i.length;r<s;r++)i[r](t);Xe(e)}}var gc=1e4,vc=function(){var n=!1,t={};return Object.defineProperty(t,"0",{set:function(){n=!0}}),Object.create(t)[0]=1,n===!1}(),dr=0,Er=function(){function n(){}return n}();function yc(n,t){typeof Object.setPrototypeOf<"u"?Object.setPrototypeOf(n.prototype,t):typeof n.prototype.__proto__<"u"?n.prototype.__proto__=t:n.prototype=t}yc(Er,Array.prototype);Object.isFrozen(Array)&&["constructor","push","shift","concat","pop","unshift","replace","find","findIndex","splice","reverse","sort"].forEach(function(n){Object.defineProperty(Er.prototype,n,{configurable:!0,writable:!0,value:Array.prototype[n]})});var Eo=function(){function n(t,e,i,r){this.array=i,this.owned=r,this.values=[],this.lastKnownLength=0,this.atom=new Qn(t||"ObservableArray@"+ce()),this.enhancer=function(s,o){return e(s,o,t+"[..]")}}return n.prototype.dehanceValue=function(t){return this.dehancer!==void 0?this.dehancer(t):t},n.prototype.dehanceValues=function(t){return this.dehancer!==void 0&&t.length>0?t.map(this.dehancer):t},n.prototype.intercept=function(t){return ln(this,t)},n.prototype.observe=function(t,e){return e===void 0&&(e=!1),e&&t({object:this.array,type:"splice",index:0,added:this.values.slice(),addedCount:this.values.length,removed:[],removedCount:0}),cn(this,t)},n.prototype.getArrayLength=function(){return this.atom.reportObserved(),this.values.length},n.prototype.setArrayLength=function(t){if(typeof t!="number"||t<0)throw new Error("[mobx.array] Out of range: "+t);var e=this.values.length;if(t!==e)if(t>e){for(var i=new Array(t-e),r=0;r<t-e;r++)i[r]=void 0;this.spliceWithArray(e,0,i)}else this.spliceWithArray(t,e-t)},n.prototype.updateArrayLength=function(t,e){if(t!==this.lastKnownLength)throw new Error("[mobx] Modification exception: the internal structure of an observable array was changed. Did you use peek() to change it?");this.lastKnownLength+=e,e>0&&t+e+1>dr&&wo(t+e+1)},n.prototype.spliceWithArray=function(t,e,i){var r=this;Yn(this.atom);var s=this.values.length;if(t===void 0?t=0:t>s?t=s:t<0&&(t=Math.max(0,s+t)),arguments.length===1?e=s-t:e==null?e=0:e=Math.max(0,Math.min(e,s-t)),i===void 0&&(i=Hn),Me(this)){var o=Ie(this,{object:this.array,type:"splice",index:t,removedCount:e,added:i});if(!o)return Hn;e=o.removedCount,i=o.added}i=i.length===0?i:i.map(function(c){return r.enhancer(c,void 0)});var a=i.length-e;this.updateArrayLength(s,a);var l=this.spliceItemsIntoValues(t,e,i);return(e!==0||i.length!==0)&&this.notifyArraySplice(t,i,l),this.dehanceValues(l)},n.prototype.spliceItemsIntoValues=function(t,e,i){var r;if(i.length<gc)return(r=this.values).splice.apply(r,ar([t,e],i));var s=this.values.slice(t,t+e);return this.values=this.values.slice(0,t).concat(i,this.values.slice(t+e)),s},n.prototype.notifyArrayChildUpdate=function(t,e,i){var r=!this.owned&&J(),s=_e(this),o=s||r?{object:this.array,type:"update",index:t,newValue:e,oldValue:i}:null;r&&ve(le({},o,{name:this.atom.name})),this.atom.reportChanged(),s&&be(this,o),r&&ye()},n.prototype.notifyArraySplice=function(t,e,i){var r=!this.owned&&J(),s=_e(this),o=s||r?{object:this.array,type:"splice",index:t,removed:i,added:e,removedCount:i.length,addedCount:e.length}:null;r&&ve(le({},o,{name:this.atom.name})),this.atom.reportChanged(),s&&be(this,o),r&&ye()},n}(),qe=function(n){Qs(t,n);function t(e,i,r,s){r===void 0&&(r="ObservableArray@"+ce()),s===void 0&&(s=!1);var o=n.call(this)||this,a=new Eo(r,i,o,s);if(rn(o,"$mobx",a),e&&e.length){var l=ao(!0);o.spliceWithArray(0,0,e),lo(l)}return vc&&Object.defineProperty(a.array,"0",_c),o}return t.prototype.intercept=function(e){return this.$mobx.intercept(e)},t.prototype.observe=function(e,i){return i===void 0&&(i=!1),this.$mobx.observe(e,i)},t.prototype.clear=function(){return this.splice(0)},t.prototype.concat=function(){for(var e=[],i=0;i<arguments.length;i++)e[i]=arguments[i];return this.$mobx.atom.reportObserved(),Array.prototype.concat.apply(this.peek(),e.map(function(r){return Jn(r)?r.peek():r}))},t.prototype.replace=function(e){return this.$mobx.spliceWithArray(0,this.$mobx.values.length,e)},t.prototype.toJS=function(){return this.slice()},t.prototype.toJSON=function(){return this.toJS()},t.prototype.peek=function(){return this.$mobx.atom.reportObserved(),this.$mobx.dehanceValues(this.$mobx.values)},t.prototype.find=function(e,i,r){r===void 0&&(r=0),arguments.length===3&&Be("The array.find fromIndex argument to find will not be supported anymore in the next major");var s=this.findIndex.apply(this,arguments);return s===-1?void 0:this.get(s)},t.prototype.findIndex=function(e,i,r){r===void 0&&(r=0),arguments.length===3&&Be("The array.findIndex fromIndex argument to find will not be supported anymore in the next major");for(var s=this.peek(),o=s.length,a=r;a<o;a++)if(e.call(i,s[a],a,this))return a;return-1},t.prototype.splice=function(e,i){for(var r=[],s=2;s<arguments.length;s++)r[s-2]=arguments[s];switch(arguments.length){case 0:return[];case 1:return this.$mobx.spliceWithArray(e);case 2:return this.$mobx.spliceWithArray(e,i)}return this.$mobx.spliceWithArray(e,i,r)},t.prototype.spliceWithArray=function(e,i,r){return this.$mobx.spliceWithArray(e,i,r)},t.prototype.push=function(){for(var e=[],i=0;i<arguments.length;i++)e[i]=arguments[i];var r=this.$mobx;return r.spliceWithArray(r.values.length,0,e),r.values.length},t.prototype.pop=function(){return this.splice(Math.max(this.$mobx.values.length-1,0),1)[0]},t.prototype.shift=function(){return this.splice(0,1)[0]},t.prototype.unshift=function(){for(var e=[],i=0;i<arguments.length;i++)e[i]=arguments[i];var r=this.$mobx;return r.spliceWithArray(0,0,e),r.values.length},t.prototype.reverse=function(){var e=this.slice();return e.reverse.apply(e,arguments)},t.prototype.sort=function(e){var i=this.slice();return i.sort.apply(i,arguments)},t.prototype.remove=function(e){var i=this.$mobx.dehanceValues(this.$mobx.values).indexOf(e);return i>-1?(this.splice(i,1),!0):!1},t.prototype.move=function(e,i){Be("observableArray.move is deprecated, use .slice() & .replace() instead");function r(a){if(a<0)throw new Error("[mobx.array] Index out of bounds: "+a+" is negative");var l=this.$mobx.values.length;if(a>=l)throw new Error("[mobx.array] Index out of bounds: "+a+" is not smaller than "+l)}if(r.call(this,e),r.call(this,i),e!==i){var s=this.$mobx.values,o;e<i?o=ar(s.slice(0,e),s.slice(e+1,i+1),[s[e]],s.slice(i+1)):o=ar(s.slice(0,i),[s[e]],s.slice(i,e),s.slice(e+1)),this.replace(o)}},t.prototype.get=function(e){var i=this.$mobx;if(i){if(e<i.values.length)return i.atom.reportObserved(),i.dehanceValue(i.values[e]);console.warn("[mobx.array] Attempt to read an array index ("+e+") that is out of bounds ("+i.values.length+"). Please check length first. Out of bound indices will not be tracked by MobX")}},t.prototype.set=function(e,i){var r=this.$mobx,s=r.values;if(e<s.length){Yn(r.atom);var o=s[e];if(Me(r)){var a=Ie(r,{type:"update",object:this,index:e,newValue:i});if(!a)return;i=a.newValue}i=r.enhancer(i,o);var l=i!==o;l&&(s[e]=i,r.notifyArrayChildUpdate(e,i,o))}else if(e===s.length)r.spliceWithArray(e,0,[i]);else throw new Error("[mobx.array] Index out of bounds, "+e+" is larger than "+s.length)},t}(Er);vr(qe.prototype,function(){this.$mobx.atom.reportObserved();var n=this,t=0;return en({next:function(){return t<n.length?{value:n[t++],done:!1}:{done:!0,value:void 0}}})});Object.defineProperty(qe.prototype,"length",{enumerable:!1,configurable:!0,get:function(){return this.$mobx.getArrayLength()},set:function(n){this.$mobx.setArrayLength(n)}});ht(qe.prototype,yr(),"Array");["every","filter","forEach","indexOf","join","lastIndexOf","map","reduce","reduceRight","slice","some","toString","toLocaleString"].forEach(function(n){var t=Array.prototype[n];Zt(typeof t=="function","Base function not defined on Array prototype: '"+n+"'"),ht(qe.prototype,n,function(){return t.apply(this.peek(),arguments)})});Dl(qe.prototype,["constructor","intercept","observe","clear","concat","get","replace","toJS","toJSON","peek","find","findIndex","splice","spliceWithArray","push","pop","set","shift","unshift","reverse","sort","remove","move","toString","toLocaleString"]);var _c=So(0);function So(n){return{enumerable:!1,configurable:!1,get:function(){return this.get(n)},set:function(t){this.set(n,t)}}}function bc(n){Object.defineProperty(qe.prototype,""+n,So(n))}function wo(n){for(var t=dr;t<n;t++)bc(t);dr=n}wo(1e3);var Ec=et("ObservableArrayAdministration",Eo);function Jn(n){return mr(n)&&Ec(n.$mobx)}var Sc={},Zn=function(){function n(t,e,i){if(e===void 0&&(e=on),i===void 0&&(i="ObservableMap@"+ce()),this.enhancer=e,this.name=i,this.$mobx=Sc,this._keys=new qe(void 0,tn,this.name+".keys()",!0),typeof Map!="function")throw new Error("mobx.map requires Map polyfill for the current browser. Check babel-polyfill or core-js/es6/map.js");this._data=new Map,this._hasMap=new Map,this.merge(t)}return n.prototype._has=function(t){return this._data.has(t)},n.prototype.has=function(t){var e=this;if(!v.trackingDerivation)return this._has(t);var i=this._hasMap.get(t);if(!i){var r=i=new Je(this._has(t),tn,this.name+"."+$n(t)+"?",!1);this._hasMap.set(t,r),vo(r,function(){return e._hasMap.delete(t)})}return i.get()},n.prototype.set=function(t,e){var i=this._has(t);if(Me(this)){var r=Ie(this,{type:i?"update":"add",object:this,newValue:e,name:t});if(!r)return this;e=r.newValue}return i?this._updateValue(t,e):this._addValue(t,e),this},n.prototype.delete=function(t){var e=this;if(Me(this)){var i=Ie(this,{type:"delete",object:this,name:t});if(!i)return!1}if(this._has(t)){var r=J(),s=_e(this),i=s||r?{type:"delete",object:this,oldValue:this._data.get(t).value,name:t}:null;return r&&ve(le({},i,{name:this.name,key:t})),je(function(){e._keys.remove(t),e._updateHasMapEntry(t,!1);var a=e._data.get(t);a.setNewValue(void 0),e._data.delete(t)}),s&&be(this,i),r&&ye(),!0}return!1},n.prototype._updateHasMapEntry=function(t,e){var i=this._hasMap.get(t);i&&i.setNewValue(e)},n.prototype._updateValue=function(t,e){var i=this._data.get(t);if(e=i.prepareNewValue(e),e!==v.UNCHANGED){var r=J(),s=_e(this),o=s||r?{type:"update",object:this,oldValue:i.value,name:t,newValue:e}:null;r&&ve(le({},o,{name:this.name,key:t})),i.setNewValue(e),s&&be(this,o),r&&ye()}},n.prototype._addValue=function(t,e){var i=this;je(function(){var a=new Je(e,i.enhancer,i.name+"."+$n(t),!1);i._data.set(t,a),e=a.value,i._updateHasMapEntry(t,!0),i._keys.push(t)});var r=J(),s=_e(this),o=s||r?{type:"add",object:this,name:t,newValue:e}:null;r&&ve(le({},o,{name:this.name,key:t})),s&&be(this,o),r&&ye()},n.prototype.get=function(t){return this.has(t)?this.dehanceValue(this._data.get(t).get()):this.dehanceValue(void 0)},n.prototype.dehanceValue=function(t){return this.dehancer!==void 0?this.dehancer(t):t},n.prototype.keys=function(){return this._keys[gr()]()},n.prototype.values=function(){var t=this,e=0;return en({next:function(){return e<t._keys.length?{value:t.get(t._keys[e++]),done:!1}:{value:void 0,done:!0}}})},n.prototype.entries=function(){var t=this,e=0;return en({next:function(){if(e<t._keys.length){var i=t._keys[e++];return{value:[i,t.get(i)],done:!1}}return{done:!0}}})},n.prototype.forEach=function(t,e){var i=this;this._keys.forEach(function(r){return t.call(e,i.get(r),r,i)})},n.prototype.merge=function(t){var e=this;return gt(t)&&(t=t.toJS()),je(function(){Mt(t)?Object.keys(t).forEach(function(i){return e.set(i,t[i])}):Array.isArray(t)?t.forEach(function(i){var r=Ws(i,2),s=r[0],o=r[1];return e.set(s,o)}):It(t)?t.constructor!==Map?$("Cannot initialize from classes that inherit from Map: "+t.constructor.name):t.forEach(function(i,r){return e.set(r,i)}):t!=null&&$("Cannot initialize map from "+t)}),this},n.prototype.clear=function(){var t=this;je(function(){io(function(){t._keys.slice().forEach(function(e){return t.delete(e)})})})},n.prototype.replace=function(t){var e=this;return je(function(){for(var i=Tl(t),r=e._keys,s=Array.from(i.keys()),o=!1,a=0;a<r.length;a++){var l=r[a];r.length===s.length&&l!==s[a]&&(o=!0),i.has(l)||(o=!0,e.delete(l))}i.forEach(function(c,u){e._data.has(u)||(o=!0),e.set(u,c)}),o&&e._keys.replace(s)}),this},Object.defineProperty(n.prototype,"size",{get:function(){return this._keys.length},enumerable:!0,configurable:!0}),n.prototype.toPOJO=function(){var t=this,e={};return this._keys.forEach(function(i){return e[typeof i=="symbol"?i:$n(i)]=t.get(i)}),e},n.prototype.toJS=function(){var t=this,e=new Map;return this._keys.forEach(function(i){return e.set(i,t.get(i))}),e},n.prototype.toJSON=function(){return this.toPOJO()},n.prototype.toString=function(){var t=this;return this.name+"[{ "+this._keys.map(function(e){return $n(e)+": "+(""+t.get(e))}).join(", ")+" }]"},n.prototype.observe=function(t,e){return cn(this,t)},n.prototype.intercept=function(t){return ln(this,t)},n}();function $n(n){return n&&n.toString?n.toString():new String(n).toString()}vr(Zn.prototype,function(){return this.entries()});rn(Zn.prototype,yr(),"Map");var gt=et("ObservableMap",Zn),wc={},ei=function(){function n(t,e,i){if(e===void 0&&(e=on),i===void 0&&(i="ObservableSet@"+ce()),this.name=i,this.$mobx=wc,this._data=new Set,this._atom=xl(this.name),typeof Set!="function")throw new Error("mobx.set requires Set polyfill for the current browser. Check babel-polyfill or core-js/es6/set.js");this.enhancer=function(r,s){return e(r,s,i)},t&&this.replace(t)}return n.prototype.dehanceValue=function(t){return this.dehancer!==void 0?this.dehancer(t):t},n.prototype.clear=function(){var t=this;je(function(){io(function(){t._data.forEach(function(e){t.delete(e)})})})},n.prototype.forEach=function(t,e){var i=this;this._data.forEach(function(r){t.call(e,r,r,i)})},Object.defineProperty(n.prototype,"size",{get:function(){return this._atom.reportObserved(),this._data.size},enumerable:!0,configurable:!0}),n.prototype.add=function(t){var e=this;if(Yn(this._atom),Me(this)){var i=Ie(this,{type:"add",object:this,newValue:t});if(!i)return this}if(!this.has(t)){je(function(){e._data.add(e.enhancer(t,void 0)),e._atom.reportChanged()});var r=J(),s=_e(this),i=s||r?{type:"add",object:this,newValue:t}:null;s&&be(this,i)}return this},n.prototype.delete=function(t){var e=this;if(Me(this)){var i=Ie(this,{type:"delete",object:this,oldValue:t});if(!i)return!1}if(this.has(t)){var r=J(),s=_e(this),i=s||r?{type:"delete",object:this,oldValue:t}:null;return je(function(){e._atom.reportChanged(),e._data.delete(t)}),s&&be(this,i),!0}return!1},n.prototype.has=function(t){return this._atom.reportObserved(),this._data.has(this.dehanceValue(t))},n.prototype.entries=function(){var t=0,e=Ot(this.keys()),i=Ot(this.values());return en({next:function(){var r=t;return t+=1,r<i.length?{value:[e[r],i[r]],done:!1}:{done:!0}}})},n.prototype.keys=function(){return this.values()},n.prototype.values=function(){this._atom.reportObserved();var t=this,e=0,i;return this._data.values!==void 0?i=Ot(this._data.values()):(i=[],this._data.forEach(function(r){return i.push(r)})),en({next:function(){return e<i.length?{value:t.dehanceValue(i[e++]),done:!1}:{done:!0}}})},n.prototype.replace=function(t){var e=this;return Rt(t)&&(t=t.toJS()),je(function(){Array.isArray(t)?(e.clear(),t.forEach(function(i){return e.add(i)})):sn(t)?(e.clear(),t.forEach(function(i){return e.add(i)})):t!=null&&$("Cannot initialize set from "+t)}),this},n.prototype.observe=function(t,e){return cn(this,t)},n.prototype.intercept=function(t){return ln(this,t)},n.prototype.toJS=function(){return new Set(this)},n.prototype.toString=function(){return this.name+"[ "+Ot(this.keys()).join(", ")+" ]"},n}();vr(ei.prototype,function(){return this.values()});rn(ei.prototype,yr(),"Set");var Rt=et("ObservableSet",ei),Co=function(){function n(t,e,i){this.target=t,this.name=e,this.defaultEnhancer=i,this.values={}}return n.prototype.read=function(t,e){if(!(this.target!==t&&(this.illegalAccess(t,e),!this.values[e])))return this.values[e].get()},n.prototype.write=function(t,e,i){var r=this.target;r!==t&&this.illegalAccess(t,e);var s=this.values[e];if(s instanceof Ze){s.set(i);return}if(Me(this)){var o=Ie(this,{type:"update",object:r,name:e,newValue:i});if(!o)return;i=o.newValue}if(i=s.prepareNewValue(i),i!==v.UNCHANGED){var a=_e(this),l=J(),o=a||l?{type:"update",object:r,oldValue:s.value,name:e,newValue:i}:null;l&&ve(le({},o,{name:this.name,key:e})),s.setNewValue(i),a&&be(this,o),l&&ye()}},n.prototype.remove=function(t){if(this.values[t]){var e=this.target;if(Me(this)){var i=Ie(this,{object:e,name:t,type:"remove"});if(!i)return}try{$e();var r=_e(this),s=J(),o=this.values[t].get();this.keys&&this.keys.remove(t),delete this.values[t],delete this.target[t];var i=r||s?{type:"remove",object:e,oldValue:o,name:t}:null;s&&ve(le({},i,{name:this.name,key:t})),r&&be(this,i),s&&ye()}finally{He()}}},n.prototype.illegalAccess=function(t,e){console.warn("Property '"+e+"' of '"+t+"' was accessed through the prototype chain. Use 'decorate' instead to declare the prop or access it statically through it's owner")},n.prototype.observe=function(t,e){return cn(this,t)},n.prototype.intercept=function(t){return ln(this,t)},n.prototype.getKeys=function(){var t=this;return this.keys===void 0&&(this.keys=new qe(Object.keys(this.values).filter(function(e){return t.values[e]instanceof Je}),tn,"keys("+this.name+")",!0)),this.keys.slice()},n}();function Sr(n,t,e){t===void 0&&(t=""),e===void 0&&(e=on);var i=n.$mobx;return i||(Mt(n)||(t=(n.constructor.name||"ObservableObject")+"@"+ce()),t||(t="ObservableObject@"+ce()),i=new Co(n,t,e),rn(n,"$mobx",i),i)}function Cc(n,t,e,i){var r=Sr(n);if(Me(r)){var s=Ie(r,{object:n,name:t,type:"add",newValue:e});if(!s)return;e=s.newValue}var o=r.values[t]=new Je(e,i,r.name+"."+t,!1);e=o.value,Object.defineProperty(n,t,Tc(t)),r.keys&&r.keys.push(t),Ac(r,n,t,e)}function Nc(n,t,e){var i=Sr(n);e.name=i.name+"."+t,e.context=n,i.values[t]=new Ze(e),Object.defineProperty(n,t,Dc(t))}var Us=Object.create(null),qs=Object.create(null);function Tc(n){return Us[n]||(Us[n]={configurable:!0,enumerable:!0,get:function(){return this.$mobx.read(this,n)},set:function(t){this.$mobx.write(this,n,t)}})}function zs(n){var t=n.$mobx;return t||(pt(n),n.$mobx)}function Dc(n){return qs[n]||(qs[n]={configurable:v.computedConfigurable,enumerable:!1,get:function(){return zs(this).read(this,n)},set:function(t){zs(this).write(this,n,t)}})}function Ac(n,t,e,i){var r=_e(n),s=J(),o=r||s?{type:"add",object:t,name:e,newValue:i}:null;s&&ve(le({},o,{name:n.name,key:e})),r&&be(n,o),s&&ye()}var Oc=et("ObservableObjectAdministration",Co);function nn(n){return mr(n)?(pt(n),Oc(n.$mobx)):!1}function Ue(n,t){if(typeof n=="object"&&n!==null){if(Jn(n))return t!==void 0&&$(!1),n.$mobx.atom;if(Rt(n))return n.$mobx;if(gt(n)){var e=n;if(t===void 0)return Ue(e._keys);var i=e._data.get(t)||e._hasMap.get(t);return i||$(!1),i}if(pt(n),t&&!n.$mobx&&n[t],nn(n)){if(!t)return $(!1);var i=n.$mobx.values[t];return i||$(!1),i}if(_r(n)||Xn(n)||Gn(n))return n}else if(typeof n=="function"&&Gn(n.$mobx))return n.$mobx;return $(!1)}function No(n,t){if(n||$("Expecting some object"),t!==void 0)return No(Ue(n,t));if(_r(n)||Xn(n)||Gn(n)||gt(n)||Rt(n))return n;if(pt(n),n.$mobx)return n.$mobx;$(!1)}function xc(n,t){var e;return t!==void 0?e=Ue(n,t):nn(n)||gt(n)||Rt(n)?e=No(n):e=Ue(n),e.name}var Ks=Object.prototype.toString;function wr(n,t,e){return e===void 0&&(e=-1),pr(n,t,e)}function pr(n,t,e,i,r){if(n===t)return n!==0||1/n===1/t;if(n==null||t==null)return!1;if(n!==n)return t!==t;var s=typeof n;if(s!=="function"&&s!=="object"&&typeof t!="object")return!1;n=Gs(n),t=Gs(t);var o=Ks.call(n);if(o!==Ks.call(t))return!1;switch(o){case"[object RegExp]":case"[object String]":return""+n==""+t;case"[object Number]":return+n!=+n?+t!=+t:+n==0?1/+n===1/t:+n==+t;case"[object Date]":case"[object Boolean]":return+n==+t;case"[object Symbol]":return typeof Symbol<"u"&&Symbol.valueOf.call(n)===Symbol.valueOf.call(t)}var a=o==="[object Array]";if(!a){if(typeof n!="object"||typeof t!="object")return!1;var l=n.constructor,c=t.constructor;if(l!==c&&!(typeof l=="function"&&l instanceof l&&typeof c=="function"&&c instanceof c)&&"constructor"in n&&"constructor"in t)return!1}if(e===0)return!1;e<0&&(e=-1),i=i||[],r=r||[];for(var u=i.length;u--;)if(i[u]===n)return r[u]===t;if(i.push(n),r.push(t),a){if(u=n.length,u!==t.length)return!1;for(;u--;)if(!pr(n[u],t[u],e-1,i,r))return!1}else{var d=Object.keys(n),w=void 0;if(u=d.length,Object.keys(t).length!==u)return!1;for(;u--;)if(w=d[u],!(Mc(t,w)&&pr(n[w],t[w],e-1,i,r)))return!1}return i.pop(),r.pop(),!0}function Gs(n){return Jn(n)?n.peek():It(n)||gt(n)||sn(n)||Rt(n)?Ot(n.entries()):n}function Mc(n,t){return Object.prototype.hasOwnProperty.call(n,t)}(function(){function n(){}if(n.name!=="testCodeMinification"&&!1)var t})();var Ic="$mobx";typeof __MOBX_DEVTOOLS_GLOBAL_HOOK__=="object"&&__MOBX_DEVTOOLS_GLOBAL_HOOK__.injectMobx({spy:rc,extras:{getDebugName:xc},$mobx:Ic});var Pc=n=>({$implicit:n});function Rc(n,t){n&1&&(p(0,"span"),L(1,"loading..."),m())}var Fc=(n,t,e)=>({$implicit:n,node:t,index:e});function kc(n,t){if(n&1&&(p(0,"span"),L(1),m()),n&2){let e=C();y(),Qe(e.node.displayField)}}var kt=()=>({dontDetach:!0});function Lc(n,t){if(n&1){let e=se();p(0,"span",3),V("click",function(r){P(e);let s=C(2);return R(s.node.mouseAction("expanderClick",r))}),k(1,"span",4),m()}if(n&2){let e=C(2);_t("toggle-children-wrapper-expanded",e.node.isExpanded)("toggle-children-wrapper-collapsed",e.node.isCollapsed)}}function Vc(n,t){n&1&&k(0,"span",5)}function jc(n,t){if(n&1&&(Pe(0),I(1,Lc,2,4,"span",1)(2,Vc,1,0,"span",2),Re()),n&2){let e=C();y(),h("ngIf",e.node.hasChildren),y(),h("ngIf",!e.node.hasChildren)}}function Bc(n,t){if(n&1){let e=se();Pe(0),p(1,"input",1),V("click",function(r){P(e);let s=C();return R(s.node.mouseAction("checkboxClick",r))}),m(),Re()}if(n&2){let e=C();y(),h("checked",e.node.isSelected)("indeterminate",e.node.isPartiallySelected)}}var Io=(n,t,e,i)=>({$implicit:n,node:t,index:e,templates:i});function $c(n,t){if(n&1&&k(0,"tree-node-checkbox",4),n&2){let e=C(2);h("node",e.node)}}function Hc(n,t){if(n&1){let e=se();p(0,"div",2),I(1,$c,1,1,"tree-node-checkbox",3),k(2,"tree-node-expander",4),p(3,"div",5),V("click",function(r){P(e);let s=C();return R(s.node.mouseAction("click",r))})("dblclick",function(r){P(e);let s=C();return R(s.node.mouseAction("dblClick",r))})("mouseover",function(r){P(e);let s=C();return R(s.node.mouseAction("mouseOver",r))})("mouseout",function(r){P(e);let s=C();return R(s.node.mouseAction("mouseOut",r))})("contextmenu",function(r){P(e);let s=C();return R(s.node.mouseAction("contextMenu",r))})("treeDrop",function(r){P(e);let s=C();return R(s.node.onDrop(r))})("treeDropDragOver",function(r){P(e);let s=C();return R(s.node.mouseAction("dragOver",r))})("treeDropDragLeave",function(r){P(e);let s=C();return R(s.node.mouseAction("dragLeave",r))})("treeDropDragEnter",function(r){P(e);let s=C();return R(s.node.mouseAction("dragEnter",r))}),k(4,"tree-node-content",6),m()()}if(n&2){let e=C();Bt("padding-left",e.node.getNodePadding()),y(),h("ngIf",e.node.options.useCheckbox),y(),h("node",e.node),y(),_t("node-content-wrapper-active",e.node.isActive)("node-content-wrapper-focused",e.node.isFocused),h("treeAllowDrop",e.node.allowDrop)("allowDragoverStyling",e.node.allowDragoverStyling())("treeDrag",e.node)("treeDragEnabled",e.node.allowDrag()),y(),h("node",e.node)("index",e.index)("template",e.templates.treeNodeTemplate)}}function Uc(n,t){if(n&1&&k(0,"tree-node-collection",4),n&2){let e=C(3);h("nodes",e.node.children)("templates",e.templates)("treeModel",e.node.treeModel)}}function qc(n,t){if(n&1&&k(0,"tree-loading-component",5),n&2){let e=C(3);Bt("padding-left",e.node.getNodePadding()),h("template",e.templates.loadingTemplate)("node",e.node)}}function zc(n,t){if(n&1&&(p(0,"div"),I(1,Uc,1,3,"tree-node-collection",2)(2,qc,1,4,"tree-loading-component",3),m()),n&2){let e=C(2);_t("tree-children",!0)("tree-children-no-padding",e.node.options.levelPadding),y(),h("ngIf",e.node.children),y(),h("ngIf",!e.node.children)}}function Kc(n,t){if(n&1&&(Pe(0),I(1,zc,3,6,"div",1),Re()),n&2){let e=C();y(),h("treeAnimateOpen",e.node.isExpanded)("treeAnimateOpenSpeed",e.node.options.animateSpeed)("treeAnimateOpenAcceleration",e.node.options.animateAcceleration)("treeAnimateOpenEnabled",e.node.options.animateExpand)}}function Gc(n,t){if(n&1&&k(0,"tree-node",2),n&2){let e=t.$implicit,i=t.index,r=C(2);h("node",e)("index",i)("templates",r.templates)}}function Qc(n,t){if(n&1&&(Pe(0),p(1,"div"),I(2,Gc,1,3,"tree-node",1),m(),Re()),n&2){let e=C();y(),Bt("margin-top",e.marginTop),y(),h("ngForOf",e.viewportNodes)("ngForTrackBy",e.trackNode)}}function Wc(n,t){if(n&1&&k(0,"tree-node-drop-slot",6),n&2){let e=C(3);h("dropIndex",e.node.index)("node",e.node.parent)}}function Yc(n,t){if(n&1&&(p(0,"div"),I(1,Wc,1,2,"tree-node-drop-slot",3),k(2,"tree-node-wrapper",4)(3,"tree-node-children",5)(4,"tree-node-drop-slot",6),m()),n&2){let e=C(2);Rr(e.node.getClass()),_t("tree-node",!0)("tree-node-expanded",e.node.isExpanded&&e.node.hasChildren)("tree-node-collapsed",e.node.isCollapsed&&e.node.hasChildren)("tree-node-leaf",e.node.isLeaf)("tree-node-active",e.node.isActive)("tree-node-focused",e.node.isFocused),y(),h("ngIf",e.index===0),y(),h("node",e.node)("index",e.index)("templates",e.templates),y(),h("node",e.node)("templates",e.templates),y(),h("dropIndex",e.node.index+1)("node",e.node.parent)}}function Xc(n,t){if(n&1&&(Pe(0),I(1,Yc,5,22,"div",1),$t(2,2),Re()),n&2){let e=C();y(),h("ngIf",!e.templates.treeNodeFullTemplate),y(),h("ngTemplateOutlet",e.templates.treeNodeFullTemplate)("ngTemplateOutletContext",gn(3,Io,e.node,e.node,e.index,e.templates))}}var Jc=["*"];function Zc(n,t){if(n&1&&(Pe(0),p(1,"div"),kr(2),m(),Re()),n&2){let e=C();y(),Bt("height",e.getTotalHeight())}}var eu=["loadingTemplate"],tu=["treeNodeTemplate"],nu=["treeNodeWrapperTemplate"],iu=["treeNodeFullTemplate"],ru=["viewport"],su=(n,t,e,i)=>({loadingTemplate:n,treeNodeTemplate:t,treeNodeWrapperTemplate:e,treeNodeFullTemplate:i});function ou(n,t){if(n&1&&k(0,"tree-node-collection",4),n&2){let e=C();h("nodes",e.treeModel.roots)("treeModel",e.treeModel)("templates",gn(3,su,e.loadingTemplate,e.treeNodeTemplate,e.treeNodeWrapperTemplate,e.treeNodeFullTemplate))}}function au(n,t){if(n&1&&k(0,"tree-node-drop-slot",5),n&2){let e=C();h("dropIndex",0)("node",e.treeModel.virtualRoot)}}var Lt=(()=>{class n{constructor(e,i){this.templateRef=e,this.viewContainer=i,this.templateBindings={}}ngOnInit(){this.view=this.viewContainer.createEmbeddedView(this.templateRef),this.dispose&&this.dispose(),this.shouldDetach()&&this.view.detach(),this.autoDetect(this.view)}shouldDetach(){return this.treeMobxAutorun&&this.treeMobxAutorun.detach}autoDetect(e){this.dispose=an(()=>e.detectChanges())}ngOnDestroy(){this.dispose&&this.dispose()}static{this.\u0275fac=function(i){return new(i||n)(W(_i),W(bi))}}static{this.\u0275dir=Vt({type:n,selectors:[["","treeMobxAutorun",""]],inputs:{treeMobxAutorun:"treeMobxAutorun"}})}}return n})(),ee={LEFT:37,UP:38,RIGHT:39,DOWN:40,ENTER:13,SPACE:32,CONTEXT_MENU:32},Y={TOGGLE_ACTIVE:(n,t,e)=>t&&t.toggleActivated(),TOGGLE_ACTIVE_MULTI:(n,t,e)=>t&&t.toggleActivated(!0),TOGGLE_SELECTED:(n,t,e)=>t&&t.toggleSelected(),ACTIVATE:(n,t,e)=>t.setIsActive(!0),DEACTIVATE:(n,t,e)=>t.setIsActive(!1),SELECT:(n,t,e)=>t.setIsSelected(!0),DESELECT:(n,t,e)=>t.setIsSelected(!1),FOCUS:(n,t,e)=>t.focus(),TOGGLE_EXPANDED:(n,t,e)=>t.hasChildren&&t.toggleExpanded(),EXPAND:(n,t,e)=>t.expand(),COLLAPSE:(n,t,e)=>t.collapse(),DRILL_DOWN:(n,t,e)=>n.focusDrillDown(),DRILL_UP:(n,t,e)=>n.focusDrillUp(),NEXT_NODE:(n,t,e)=>n.focusNextNode(),PREVIOUS_NODE:(n,t,e)=>n.focusPreviousNode(),MOVE_NODE:(n,t,e,{from:i,to:r})=>{e.ctrlKey?n.copyNode(i,r):n.moveNode(i,r)}},Ft={mouse:{click:Y.TOGGLE_ACTIVE,dblClick:null,contextMenu:null,expanderClick:Y.TOGGLE_EXPANDED,checkboxClick:Y.TOGGLE_SELECTED,drop:Y.MOVE_NODE},keys:{[ee.RIGHT]:Y.DRILL_DOWN,[ee.LEFT]:Y.DRILL_UP,[ee.DOWN]:Y.NEXT_NODE,[ee.UP]:Y.PREVIOUS_NODE,[ee.SPACE]:Y.TOGGLE_ACTIVE,[ee.ENTER]:Y.TOGGLE_ACTIVE}},ii=class{get hasChildrenField(){return this.options.hasChildrenField||"hasChildren"}get childrenField(){return this.options.childrenField||"children"}get displayField(){return this.options.displayField||"name"}get idField(){return this.options.idField||"id"}get isExpandedField(){return this.options.isExpandedField||"isExpanded"}get getChildren(){return this.options.getChildren}get levelPadding(){return this.options.levelPadding||0}get useVirtualScroll(){return this.options.useVirtualScroll}get animateExpand(){return this.options.animateExpand}get animateSpeed(){return this.options.animateSpeed||1}get animateAcceleration(){return this.options.animateAcceleration||1.2}get scrollOnActivate(){return this.options.scrollOnActivate===void 0?!0:this.options.scrollOnActivate}get rtl(){return!!this.options.rtl}get rootId(){return this.options.rootId}get useCheckbox(){return this.options.useCheckbox}get useTriState(){return this.options.useTriState===void 0?!0:this.options.useTriState}get scrollContainer(){return this.options.scrollContainer}get allowDragoverStyling(){return this.options.allowDragoverStyling===void 0?!0:this.options.allowDragoverStyling}constructor(t={}){this.options=t,this.actionMapping={mouse:{click:this.options?.actionMapping?.mouse?.click??Ft.mouse.click,dblClick:this.options?.actionMapping?.mouse?.dblClick??Ft.mouse.dblClick,contextMenu:this.options?.actionMapping?.mouse?.contextMenu??Ft.mouse.contextMenu,expanderClick:this.options?.actionMapping?.mouse?.expanderClick??Ft.mouse.expanderClick,checkboxClick:this.options?.actionMapping?.mouse?.checkboxClick??Ft.mouse.checkboxClick,drop:this.options?.actionMapping?.mouse?.drop??Ft.mouse.drop,dragStart:this.options?.actionMapping?.mouse?.dragStart??void 0,drag:this.options?.actionMapping?.mouse?.drag??void 0,dragEnd:this.options?.actionMapping?.mouse?.dragEnd??void 0,dragOver:this.options?.actionMapping?.mouse?.dragOver??void 0,dragLeave:this.options?.actionMapping?.mouse?.dragLeave??void 0,dragEnter:this.options?.actionMapping?.mouse?.dragEnter??void 0,mouseOver:this.options?.actionMapping?.mouse?.mouseOver??void 0,mouseOut:this.options?.actionMapping?.mouse?.mouseOut??void 0},keys:{[ee.RIGHT]:Y.DRILL_DOWN,[ee.LEFT]:Y.DRILL_UP,[ee.DOWN]:Y.NEXT_NODE,[ee.UP]:Y.PREVIOUS_NODE,[ee.SPACE]:Y.TOGGLE_ACTIVE,[ee.ENTER]:Y.TOGGLE_ACTIVE}},this.options?.actionMapping?.keys&&(this.actionMapping.keys=rt(rt({},this.actionMapping.keys),this.options.actionMapping.keys)),t.rtl&&(this.actionMapping.keys[ee.RIGHT]=t.actionMapping?.keys[ee.RIGHT]||Y.DRILL_UP,this.actionMapping.keys[ee.LEFT]=t.actionMapping?.keys[ee.LEFT]||Y.DRILL_DOWN)}getNodeClone(t){if(this.options.getNodeClone)return this.options.getNodeClone(t);let e=Object.assign({},t.data);return e.id&&delete e.id,e}allowDrop(t,e,i){return this.options.allowDrop instanceof Function?this.options.allowDrop(t,e,i):this.options.allowDrop===void 0?!0:this.options.allowDrop}allowDrag(t){return this.options.allowDrag instanceof Function?this.options.allowDrag(t):this.options.allowDrag}nodeClass(t){return this.options.nodeClass?this.options.nodeClass(t):""}nodeHeight(t){if(t.data.virtual)return 0;let e=this.options.nodeHeight||22;return typeof e=="function"&&(e=e(t)),e+(t.index===0?2:1)*this.dropSlotHeight}get dropSlotHeight(){return typeof this.options.dropSlotHeight=="number"?this.options.dropSlotHeight:2}},q={toggleExpanded:"toggleExpanded",activate:"activate",deactivate:"deactivate",nodeActivate:"nodeActivate",nodeDeactivate:"nodeDeactivate",select:"select",deselect:"deselect",focus:"focus",blur:"blur",initialized:"initialized",updateData:"updateData",moveNode:"moveNode",copyNode:"copyNode",event:"event",loadNodeChildren:"loadNodeChildren",changeFilter:"changeFilter",stateChange:"stateChange"},te=function(n,t,e,i){var r=arguments.length,s=r<3?t:i===null?i=Object.getOwnPropertyDescriptor(t,e):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,t,e,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(r<3?o(s):r>3?o(t,e,s):o(t,e))||s);return r>3&&s&&Object.defineProperty(t,e,s),s},K=class n{get isHidden(){return this.treeModel.isHidden(this)}get isExpanded(){return this.treeModel.isExpanded(this)}get isActive(){return this.treeModel.isActive(this)}get isFocused(){return this.treeModel.isNodeFocused(this)}get isSelected(){return this.isSelectable()?this.treeModel.isSelected(this):this.children.some(t=>t.isSelected)}get isAllSelected(){return this.isSelectable()?this.treeModel.isSelected(this):this.children.every(t=>t.isAllSelected)}get isPartiallySelected(){return this.isSelected&&!this.isAllSelected}get level(){return this.parent?this.parent.level+1:0}get path(){return this.parent?[...this.parent.path,this.id]:[]}get elementRef(){throw`Element Ref is no longer supported since introducing virtual scroll

      You may use a template to obtain a reference to the element`}get originalNode(){return this._originalNode}constructor(t,e,i,r){this.data=t,this.parent=e,this.treeModel=i,this.position=0,this.allowDrop=(s,o)=>this.options.allowDrop(s,{parent:this,index:0},o),this.allowDragoverStyling=()=>this.options.allowDragoverStyling,(this.id===void 0||this.id===null)&&(this.id=lu()),this.index=r,this.getField("children")&&this._initChildren(),this.autoLoadChildren()}get hasChildren(){return!!(this.getField("hasChildren")||this.children&&this.children.length>0)}get isCollapsed(){return!this.isExpanded}get isLeaf(){return!this.hasChildren}get isRoot(){return this.parent.data.virtual}get realParent(){return this.isRoot?null:this.parent}get options(){return this.treeModel.options}fireEvent(t){this.treeModel.fireEvent(t)}get displayField(){return this.getField("display")}get id(){return this.getField("id")}set id(t){this.setField("id",t)}getField(t){return this.data[this.options[`${t}Field`]]}setField(t,e){this.data[this.options[`${t}Field`]]=e}_findAdjacentSibling(t,e=!1){let i=this._getParentsChildren(e),r=i.indexOf(this);return i.length>r+t?i[r+t]:null}findNextSibling(t=!1){return this._findAdjacentSibling(1,t)}findPreviousSibling(t=!1){return this._findAdjacentSibling(-1,t)}getVisibleChildren(){return this.visibleChildren}get visibleChildren(){return(this.children||[]).filter(t=>!t.isHidden)}getFirstChild(t=!1){let e=t?this.visibleChildren:this.children;return e!=null&&e.length?e[0]:null}getLastChild(t=!1){let e=t?this.visibleChildren:this.children;return e!=null&&e.length?e[e.length-1]:null}findNextNode(t=!0,e=!1){return t&&this.isExpanded&&this.getFirstChild(e)||this.findNextSibling(e)||this.parent&&this.parent.findNextNode(!1,e)}findPreviousNode(t=!1){let e=this.findPreviousSibling(t);return e?e._getLastOpenDescendant(t):this.realParent}_getLastOpenDescendant(t=!1){let e=this.getLastChild(t);return this.isCollapsed||!e?this:e._getLastOpenDescendant(t)}_getParentsChildren(t=!1){return this.parent&&(t?this.parent.getVisibleChildren():this.parent.children)||[]}getIndexInParent(t=!1){return this._getParentsChildren(t).indexOf(this)}isDescendantOf(t){return this===t?!0:this.parent&&this.parent.isDescendantOf(t)}getNodePadding(){return this.options.levelPadding*(this.level-1)+"px"}getClass(){return[this.options.nodeClass(this),`tree-node-level-${this.level}`].join(" ")}onDrop(t){this.mouseAction("drop",t.event,{from:t.element,to:{parent:this,index:0,dropOnNode:!0}})}allowDrag(){return this.options.allowDrag(this)}loadNodeChildren(){return this.options.getChildren?Promise.resolve(this.options.getChildren(this)).then(t=>{t&&(this.setField("children",t),this._initChildren(),this.options.useTriState&&this.treeModel.isSelected(this)&&this.setIsSelected(!0),this.children.forEach(e=>{e.getField("isExpanded")&&e.hasChildren&&e.expand()}))}).then(()=>{this.fireEvent({eventName:q.loadNodeChildren,node:this})}):Promise.resolve()}expand(){return this.isExpanded||this.toggleExpanded(),this}collapse(){return this.isExpanded&&this.toggleExpanded(),this}doForAll(t){Promise.resolve(t(this)).then(()=>{this.children&&this.children.forEach(e=>e.doForAll(t))})}expandAll(){this.doForAll(t=>t.expand())}collapseAll(){this.doForAll(t=>t.collapse())}ensureVisible(){return this.realParent&&(this.realParent.expand(),this.realParent.ensureVisible()),this}toggleExpanded(){return this.setIsExpanded(!this.isExpanded),this}setIsExpanded(t){return this.hasChildren&&this.treeModel.setExpandedNode(this,t),this}autoLoadChildren(){this.handler=mt(()=>this.isExpanded,t=>{!this.children&&this.hasChildren&&t&&this.loadNodeChildren()},{fireImmediately:!0})}dispose(){this.children&&this.children.forEach(t=>t.dispose()),this.handler&&this.handler(),this.parent=null,this.children=null}setIsActive(t,e=!1){return this.treeModel.setActiveNode(this,t,e),t&&this.focus(this.options.scrollOnActivate),this}isSelectable(){return this.isLeaf||!this.children||!this.options.useTriState}setIsSelected(t){return this.isSelectable()?this.treeModel.setSelectedNode(this,t):this.visibleChildren.forEach(e=>e.setIsSelected(t)),this}toggleSelected(){return this.setIsSelected(!this.isSelected),this}toggleActivated(t=!1){return this.setIsActive(!this.isActive,t),this}setActiveAndVisible(t=!1){return this.setIsActive(!0,t).ensureVisible(),setTimeout(this.scrollIntoView.bind(this)),this}scrollIntoView(t=!1){this.treeModel.virtualScroll.scrollIntoView(this,t)}focus(t=!0){let e=this.treeModel.getFocusedNode();return this.treeModel.setFocusedNode(this),t&&this.scrollIntoView(),e&&this.fireEvent({eventName:q.blur,node:e}),this.fireEvent({eventName:q.focus,node:this}),this}blur(){let t=this.treeModel.getFocusedNode();return this.treeModel.setFocusedNode(null),t&&this.fireEvent({eventName:q.blur,node:this}),this}setIsHidden(t){this.treeModel.setIsHidden(this,t)}hide(){this.setIsHidden(!0)}show(){this.setIsHidden(!1)}mouseAction(t,e,i=null){this.treeModel.setFocus(!0);let s=this.options.actionMapping.mouse[t];s&&s(this.treeModel,this,e,i)}getSelfHeight(){return this.options.nodeHeight(this)}_initChildren(){this.children=this.getField("children").map((t,e)=>new n(t,this,this.treeModel,e))}};te([U],K.prototype,"isHidden",null);te([U],K.prototype,"isExpanded",null);te([U],K.prototype,"isActive",null);te([U],K.prototype,"isFocused",null);te([U],K.prototype,"isSelected",null);te([U],K.prototype,"isAllSelected",null);te([U],K.prototype,"isPartiallySelected",null);te([D],K.prototype,"children",void 0);te([D],K.prototype,"index",void 0);te([D],K.prototype,"position",void 0);te([D],K.prototype,"height",void 0);te([U],K.prototype,"level",null);te([U],K.prototype,"path",null);te([U],K.prototype,"visibleChildren",null);te([x],K.prototype,"setIsSelected",null);te([x],K.prototype,"_initChildren",null);function lu(){return Math.floor(Math.random()*1e13)}var M=function(n,t,e,i){var r=arguments.length,s=r<3?t:i===null?i=Object.getOwnPropertyDescriptor(t,e):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,t,e,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(r<3?o(s):r>3?o(t,e,s):o(t,e))||s);return r>3&&s&&Object.defineProperty(t,e,s),s},T=(()=>{class n{constructor(){this.options=new ii,this.eventNames=Object.keys(q),this.expandedNodeIds={},this.selectedLeafNodeIds={},this.activeNodeIds={},this.hiddenNodeIds={},this.focusedNodeId=null,this.firstUpdate=!0,this.subscriptions=[]}static{this.focusedTree=null}fireEvent(e){e.treeModel=this,this.events[e.eventName].emit(e),this.events.event.emit(e)}subscribe(e,i){let r=this.events[e].subscribe(i);this.subscriptions.push(r)}getFocusedNode(){return this.focusedNode}getActiveNode(){return this.activeNodes[0]}getActiveNodes(){return this.activeNodes}getVisibleRoots(){return this.virtualRoot.visibleChildren}getFirstRoot(e=!1){let i=e?this.getVisibleRoots():this.roots;return i!=null&&i.length?i[0]:null}getLastRoot(e=!1){let i=e?this.getVisibleRoots():this.roots;return i!=null&&i.length?i[i.length-1]:null}get isFocused(){return n.focusedTree===this}isNodeFocused(e){return this.focusedNode===e}isEmptyTree(){return this.roots&&this.roots.length===0}get focusedNode(){return this.focusedNodeId?this.getNodeById(this.focusedNodeId):null}get expandedNodes(){return Object.keys(this.expandedNodeIds).filter(i=>this.expandedNodeIds[i]).map(i=>this.getNodeById(i)).filter(Boolean)}get activeNodes(){return Object.keys(this.activeNodeIds).filter(i=>this.activeNodeIds[i]).map(i=>this.getNodeById(i)).filter(Boolean)}get hiddenNodes(){return Object.keys(this.hiddenNodeIds).filter(i=>this.hiddenNodeIds[i]).map(i=>this.getNodeById(i)).filter(Boolean)}get selectedLeafNodes(){return Object.keys(this.selectedLeafNodeIds).filter(i=>this.selectedLeafNodeIds[i]).map(i=>this.getNodeById(i)).filter(Boolean)}getNodeByPath(e,i=null){if(!e)return null;if(i=i||this.virtualRoot,e.length===0)return i;if(!i.children)return null;let r=e.shift(),s=i.children.find(o=>o.id===r);return s?this.getNodeByPath(e,s):null}getNodeById(e){let i=e.toString();return this.getNodeBy(r=>r.id.toString()===i)}getNodeBy(e,i=null){if(i=i||this.virtualRoot,!i.children)return null;let r=i.children.find(e);if(r)return r;for(let s of i.children){let o=this.getNodeBy(e,s);if(o)return o}}isExpanded(e){return this.expandedNodeIds[e.id]}isHidden(e){return this.hiddenNodeIds[e.id]}isActive(e){return this.activeNodeIds[e.id]}isSelected(e){return this.selectedLeafNodeIds[e.id]}ngOnDestroy(){this.dispose(),this.unsubscribeAll()}dispose(){this.virtualRoot&&this.virtualRoot.dispose()}unsubscribeAll(){this.subscriptions.forEach(e=>e.unsubscribe()),this.subscriptions=[]}setData({nodes:e,options:i=null,events:r=null}){i&&(this.options=new ii(i)),r&&(this.events=r),e&&(this.nodes=e),this.update()}update(){let e={id:this.options.rootId,virtual:!0,[this.options.childrenField]:this.nodes};this.dispose(),this.virtualRoot=new K(e,null,this,0),this.roots=this.virtualRoot.children,this.firstUpdate?this.roots&&(this.firstUpdate=!1,this._calculateExpandedNodes()):this.fireEvent({eventName:q.updateData})}setFocusedNode(e){this.focusedNodeId=e?e.id:null}setFocus(e){n.focusedTree=e?this:null}doForAll(e){this.roots.forEach(i=>i.doForAll(e))}focusNextNode(){let e=this.getFocusedNode(),i=e?e.findNextNode(!0,!0):this.getFirstRoot(!0);i&&i.focus()}focusPreviousNode(){let e=this.getFocusedNode(),i=e?e.findPreviousNode(!0):this.getLastRoot(!0);i&&i.focus()}focusDrillDown(){let e=this.getFocusedNode();if(e&&e.isCollapsed&&e.hasChildren)e.toggleExpanded();else{let i=e?e.getFirstChild(!0):this.getFirstRoot(!0);i&&i.focus()}}focusDrillUp(){let e=this.getFocusedNode();if(e)if(e.isExpanded)e.toggleExpanded();else{let i=e.realParent;i&&i.focus()}}setActiveNode(e,i,r=!1){r?this._setActiveNodeMulti(e,i):this._setActiveNodeSingle(e,i),i?(e.focus(this.options.scrollOnActivate),this.fireEvent({eventName:q.activate,node:e}),this.fireEvent({eventName:q.nodeActivate,node:e})):(this.fireEvent({eventName:q.deactivate,node:e}),this.fireEvent({eventName:q.nodeDeactivate,node:e}))}setSelectedNode(e,i){this.selectedLeafNodeIds=Object.assign({},this.selectedLeafNodeIds,{[e.id]:i}),i?(e.focus(),this.fireEvent({eventName:q.select,node:e})):this.fireEvent({eventName:q.deselect,node:e})}setExpandedNode(e,i){this.expandedNodeIds=Object.assign({},this.expandedNodeIds,{[e.id]:i}),this.fireEvent({eventName:q.toggleExpanded,node:e,isExpanded:i})}expandAll(){this.roots.forEach(e=>e.expandAll())}collapseAll(){this.roots.forEach(e=>e.collapseAll())}setIsHidden(e,i){this.hiddenNodeIds=Object.assign({},this.hiddenNodeIds,{[e.id]:i})}setHiddenNodeIds(e){this.hiddenNodeIds=e.reduce((i,r)=>Object.assign(i,{[r]:!0}),{})}performKeyAction(e,i){let r=this.options.actionMapping.keys[i.keyCode];return r?(i.preventDefault(),r(this,e,i),!0):!1}filterNodes(e,i=!0){let r;if(!e)return this.clearFilter();if(e&&typeof e.valueOf()=="string")r=o=>o.displayField.toLowerCase().indexOf(e.toLowerCase())!==-1;else if(e&&typeof e=="function")r=e;else{console.error("Don't know what to do with filter",e),console.error("Should be either a string or function");return}let s={};this.roots.forEach(o=>this._filterNode(s,o,r,i)),this.hiddenNodeIds=s,this.fireEvent({eventName:q.changeFilter})}clearFilter(){this.hiddenNodeIds={},this.fireEvent({eventName:q.changeFilter})}moveNode(e,i){let r=e.getIndexInParent(),s=e.parent;if(!this.canMoveNode(e,i,r))return;let o=s.getField("children");i.parent.getField("children")||i.parent.setField("children",[]);let a=i.parent.getField("children"),l=o.splice(r,1)[0],c=s===i.parent&&i.index>r?i.index-1:i.index;a.splice(c,0,l),s.treeModel.update(),i.parent.treeModel!==s.treeModel&&i.parent.treeModel.update(),this.fireEvent({eventName:q.moveNode,node:l,to:{parent:i.parent.data,index:c},from:{parent:s.data,index:r}})}copyNode(e,i){let r=e.getIndexInParent();if(!this.canMoveNode(e,i,r))return;i.parent.getField("children")||i.parent.setField("children",[]);let s=i.parent.getField("children"),o=this.options.getNodeClone(e);s.splice(i.index,0,o),e.treeModel.update(),i.parent.treeModel!==e.treeModel&&i.parent.treeModel.update(),this.fireEvent({eventName:q.copyNode,node:o,to:{parent:i.parent.data,index:i.index}})}getState(){return{expandedNodeIds:this.expandedNodeIds,selectedLeafNodeIds:this.selectedLeafNodeIds,activeNodeIds:this.activeNodeIds,hiddenNodeIds:this.hiddenNodeIds,focusedNodeId:this.focusedNodeId}}setState(e){e&&Object.assign(this,{expandedNodeIds:e.expandedNodeIds||{},selectedLeafNodeIds:e.selectedLeafNodeIds||{},activeNodeIds:e.activeNodeIds||{},hiddenNodeIds:e.hiddenNodeIds||{},focusedNodeId:e.focusedNodeId})}subscribeToState(e){an(()=>e(this.getState()))}canMoveNode(e,i,r=void 0){let s=r||e.getIndexInParent();return e.parent===i.parent&&r===i.index?!1:!i.parent.isDescendantOf(e)}calculateExpandedNodes(){this._calculateExpandedNodes()}_filterNode(e,i,r,s){let o=r(i);return i.children&&i.children.forEach(a=>{this._filterNode(e,a,r,s)&&(o=!0)}),o||(e[i.id]=!0),s&&o&&i.ensureVisible(),o}_calculateExpandedNodes(e=null){e=e||this.virtualRoot,e.data[this.options.isExpandedField]&&(this.expandedNodeIds=Object.assign({},this.expandedNodeIds,{[e.id]:!0})),e.children&&e.children.forEach(i=>this._calculateExpandedNodes(i))}_setActiveNodeSingle(e,i){this.activeNodes.filter(r=>r!==e).forEach(r=>{this.fireEvent({eventName:q.deactivate,node:r}),this.fireEvent({eventName:q.nodeDeactivate,node:r})}),i?this.activeNodeIds={[e.id]:!0}:this.activeNodeIds={}}_setActiveNodeMulti(e,i){this.activeNodeIds=Object.assign({},this.activeNodeIds,{[e.id]:i})}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=Ce({token:n,factory:n.\u0275fac})}}return n})();M([D],T.prototype,"roots",void 0);M([D],T.prototype,"expandedNodeIds",void 0);M([D],T.prototype,"selectedLeafNodeIds",void 0);M([D],T.prototype,"activeNodeIds",void 0);M([D],T.prototype,"hiddenNodeIds",void 0);M([D],T.prototype,"focusedNodeId",void 0);M([D],T.prototype,"virtualRoot",void 0);M([U],T.prototype,"focusedNode",null);M([U],T.prototype,"expandedNodes",null);M([U],T.prototype,"activeNodes",null);M([U],T.prototype,"hiddenNodes",null);M([U],T.prototype,"selectedLeafNodes",null);M([x],T.prototype,"setData",null);M([x],T.prototype,"update",null);M([x],T.prototype,"setFocusedNode",null);M([x],T.prototype,"setFocus",null);M([x],T.prototype,"doForAll",null);M([x],T.prototype,"focusNextNode",null);M([x],T.prototype,"focusPreviousNode",null);M([x],T.prototype,"focusDrillDown",null);M([x],T.prototype,"focusDrillUp",null);M([x],T.prototype,"setActiveNode",null);M([x],T.prototype,"setSelectedNode",null);M([x],T.prototype,"setExpandedNode",null);M([x],T.prototype,"expandAll",null);M([x],T.prototype,"collapseAll",null);M([x],T.prototype,"setIsHidden",null);M([x],T.prototype,"setHiddenNodeIds",null);M([x],T.prototype,"filterNodes",null);M([x],T.prototype,"clearFilter",null);M([x],T.prototype,"moveNode",null);M([x],T.prototype,"copyNode",null);M([x],T.prototype,"setState",null);var Cr=(()=>{class n{constructor(){this._draggedElement=null}set(e){this._draggedElement=e}get(){return this._draggedElement}isDragging(){return!!this.get()}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=Ce({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),ze=function(n,t,e,i){var r=arguments.length,s=r<3?t:i===null?i=Object.getOwnPropertyDescriptor(t,e):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,t,e,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(r<3?o(s):r>3?o(t,e,s):o(t,e))||s);return r>3&&s&&Object.defineProperty(t,e,s),s},To=500,ti=150,Ee=(()=>{class n{get y(){return this.yBlocks*ti}get totalHeight(){return this.treeModel.virtualRoot?this.treeModel.virtualRoot.height:0}constructor(e){this.treeModel=e,this.yBlocks=0,this.x=0,this.viewportHeight=null,this.viewport=null,e.virtualScroll=this,this._dispose=[an(()=>this.fixScroll())]}fireEvent(e){this.treeModel.fireEvent(e)}init(){let e=this.recalcPositions.bind(this);e(),this._dispose=[...this._dispose,mt(()=>this.treeModel.roots,e),mt(()=>this.treeModel.expandedNodeIds,e),mt(()=>this.treeModel.hiddenNodeIds,e)],this.treeModel.subscribe(q.loadNodeChildren,e)}isEnabled(){return this.treeModel.options.useVirtualScroll}_setYBlocks(e){this.yBlocks=e}recalcPositions(){this.treeModel.virtualRoot.height=this._getPositionAfter(this.treeModel.getVisibleRoots(),0)}_getPositionAfter(e,i){let r=i;return e.forEach(s=>{s.position=r,r=this._getPositionAfterNode(s,r)}),r}_getPositionAfterNode(e,i){let r=e.getSelfHeight()+i;return e.children&&e.isExpanded&&(r=this._getPositionAfter(e.visibleChildren,r)),e.height=r-i,r}clear(){this._dispose.forEach(e=>e())}setViewport(e){Object.assign(this,{viewport:e,x:e.scrollLeft,yBlocks:Math.round(e.scrollTop/ti),viewportHeight:e.getBoundingClientRect?e.getBoundingClientRect().height:0})}scrollIntoView(e,i,r=!0){if(e.options.scrollContainer){let s=e.options.scrollContainer,o=s.getBoundingClientRect().height,a=s.getBoundingClientRect().top,l=this.viewport.getBoundingClientRect().top+e.position-a;(i||l<s.scrollTop||l+e.getSelfHeight()>s.scrollTop+o)&&(s.scrollTop=r?l-o/2:l)}else(i||e.position<this.y||e.position+e.getSelfHeight()>this.y+this.viewportHeight)&&this.viewport&&(this.viewport.scrollTop=r?e.position-this.viewportHeight/2:e.position,this._setYBlocks(Math.floor(this.viewport.scrollTop/ti)))}getViewportNodes(e){if(!e)return[];let i=e.filter(l=>!l.isHidden);if(!this.isEnabled())return i;if(!this.viewportHeight||!i.length)return[];let r=i.slice(-1)[0];if(!r.height&&r.position===0)return[];let s=Do(i,l=>l.position+To>this.y||l.position+l.height>this.y),o=Do(i,l=>l.position-To>this.y+this.viewportHeight,s),a=[];for(let l=s;l<=o;l++)a.push(i[l]);return a}fixScroll(){let e=Math.max(0,this.totalHeight-this.viewportHeight);this.y<0&&this._setYBlocks(0),this.y>e&&this._setYBlocks(e/ti)}static{this.\u0275fac=function(i){return new(i||n)(Ge(T))}}static{this.\u0275prov=Ce({token:n,factory:n.\u0275fac})}}return n})();ze([D],Ee.prototype,"yBlocks",void 0);ze([D],Ee.prototype,"x",void 0);ze([D],Ee.prototype,"viewportHeight",void 0);ze([U],Ee.prototype,"y",null);ze([U],Ee.prototype,"totalHeight",null);ze([x],Ee.prototype,"_setYBlocks",null);ze([x],Ee.prototype,"recalcPositions",null);ze([x],Ee.prototype,"setViewport",null);ze([x],Ee.prototype,"scrollIntoView",null);function Do(n,t,e=0){let i=e,r=n.length-1;for(;i!==r;){let s=Math.floor((i+r)/2);t(n[s])?r=s:i===s?i=r:i=s}return i}var cu=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275cmp=j({type:n,selectors:[["tree-loading-component"]],inputs:{template:"template",node:"node"},decls:2,vars:5,consts:[[4,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(i,r){i&1&&(I(0,Rc,2,0,"span",0),$t(1,1)),i&2&&(h("ngIf",!r.template),y(),h("ngTemplateOutlet",r.template)("ngTemplateOutletContext",Hr(3,Pc,r.node)))},dependencies:[he,qt],encapsulation:2})}}return n})(),Ao="is-dragging-over",Oo="is-dragging-over-disabled",Po=(()=>{class n{set treeAllowDrop(e){e instanceof Function?this._allowDrop=e:this._allowDrop=(i,r)=>e}allowDrop(e){return this._allowDrop(this.treeDraggedElement.get(),e)}constructor(e,i,r,s){this.el=e,this.renderer=i,this.treeDraggedElement=r,this.ngZone=s,this.allowDragoverStyling=!0,this.onDropCallback=new Ne,this.onDragOverCallback=new Ne,this.onDragLeaveCallback=new Ne,this.onDragEnterCallback=new Ne,this._allowDrop=(o,a)=>!0,this.dragOverEventHandler=this.onDragOver.bind(this),this.dragEnterEventHandler=this.onDragEnter.bind(this),this.dragLeaveEventHandler=this.onDragLeave.bind(this)}ngAfterViewInit(){let e=this.el.nativeElement;this.ngZone.runOutsideAngular(()=>{e.addEventListener("dragover",this.dragOverEventHandler),e.addEventListener("dragenter",this.dragEnterEventHandler),e.addEventListener("dragleave",this.dragLeaveEventHandler)})}ngOnDestroy(){let e=this.el.nativeElement;e.removeEventListener("dragover",this.dragOverEventHandler),e.removeEventListener("dragenter",this.dragEnterEventHandler),e.removeEventListener("dragleave",this.dragLeaveEventHandler)}onDragOver(e){if(!this.allowDrop(e))return this.allowDragoverStyling?this.addDisabledClass():void 0;this.onDragOverCallback.emit({event:e,element:this.treeDraggedElement.get()}),e.preventDefault(),this.allowDragoverStyling&&this.addClass()}onDragEnter(e){this.allowDrop(e)&&(e.preventDefault(),this.onDragEnterCallback.emit({event:e,element:this.treeDraggedElement.get()}))}onDragLeave(e){if(!this.allowDrop(e))return this.allowDragoverStyling?this.removeDisabledClass():void 0;this.onDragLeaveCallback.emit({event:e,element:this.treeDraggedElement.get()}),this.allowDragoverStyling&&this.removeClass()}onDrop(e){this.allowDrop(e)&&(e.preventDefault(),this.onDropCallback.emit({event:e,element:this.treeDraggedElement.get()}),this.allowDragoverStyling&&this.removeClass(),this.treeDraggedElement.set(null))}addClass(){this.renderer.addClass(this.el.nativeElement,Ao)}removeClass(){this.renderer.removeClass(this.el.nativeElement,Ao)}addDisabledClass(){this.renderer.addClass(this.el.nativeElement,Oo)}removeDisabledClass(){this.renderer.removeClass(this.el.nativeElement,Oo)}static{this.\u0275fac=function(i){return new(i||n)(W(fn),W(hn),W(Cr),W(jt))}}static{this.\u0275dir=Vt({type:n,selectors:[["","treeDrop",""]],hostBindings:function(i,r){i&1&&V("drop",function(o){return r.onDrop(o)})},inputs:{allowDragoverStyling:"allowDragoverStyling",treeAllowDrop:"treeAllowDrop"},outputs:{onDropCallback:"treeDrop",onDragOverCallback:"treeDropDragOver",onDragLeaveCallback:"treeDropDragLeave",onDragEnterCallback:"treeDropDragEnter"}})}}return n})(),Ro=(()=>{class n{onDrop(e){this.node.mouseAction("drop",e.event,{from:e.element,to:{parent:this.node,index:this.dropIndex}})}allowDrop(e,i){return this.node.options.allowDrop(e,{parent:this.node,index:this.dropIndex},i)}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275cmp=j({type:n,selectors:[["TreeNodeDropSlot"],["tree-node-drop-slot"]],inputs:{node:"node",dropIndex:"dropIndex"},decls:1,vars:2,consts:[[1,"node-drop-slot",3,"treeDrop","treeAllowDrop","allowDragoverStyling"]],template:function(i,r){i&1&&(p(0,"div",0),V("treeDrop",function(o){return r.onDrop(o)}),m()),i&2&&h("treeAllowDrop",r.allowDrop.bind(r))("allowDragoverStyling",!0)},dependencies:[Po],encapsulation:2})}}return n})();function uu(...n){return x(...n)}var du=Object.assign(uu,x);function pu(...n){return U(...n)}var fu=Object.assign(pu,U);function hu(...n){return D(...n)}var xo=Object.assign(hu,D),Mo=1.005,mu=(()=>{class n{set isOpen(e){e?(this._show(),this.isEnabled&&this._isOpen===!1&&this._animateOpen()):this.isEnabled?this._animateClose():this._hide(),this._isOpen=!!e}constructor(e,i,r){this.renderer=e,this.templateRef=i,this.viewContainerRef=r}_show(){this.innerElement||(this.innerElement=this.viewContainerRef.createEmbeddedView(this.templateRef).rootNodes[0])}_hide(){this.viewContainerRef.clear(),this.innerElement=null}_animateOpen(){let e=this.animateSpeed,i=this.animateAcceleration,r=0;this.renderer.setStyle(this.innerElement,"max-height","0"),setTimeout(()=>{let s=setInterval(()=>{if(!this._isOpen||!this.innerElement)return clearInterval(s);r+=e;let o=Math.round(r);this.renderer.setStyle(this.innerElement,"max-height",`${o}px`);let a=this.innerElement.getBoundingClientRect?this.innerElement.getBoundingClientRect().height:0;e*=i,i*=Mo,a<o&&(this.renderer.setStyle(this.innerElement,"max-height",null),clearInterval(s))},17)})}_animateClose(){if(!this.innerElement)return;let e=this.animateSpeed,i=this.animateAcceleration,r=this.innerElement.getBoundingClientRect().height,s=setInterval(()=>{if(this._isOpen||!this.innerElement)return clearInterval(s);r-=e,this.renderer.setStyle(this.innerElement,"max-height",`${r}px`),e*=i,i*=Mo,r<=0&&(this.viewContainerRef.clear(),this.innerElement=null,clearInterval(s))},17)}static{this.\u0275fac=function(i){return new(i||n)(W(hn),W(_i),W(bi))}}static{this.\u0275dir=Vt({type:n,selectors:[["","treeAnimateOpen",""]],inputs:{animateSpeed:[0,"treeAnimateOpenSpeed","animateSpeed"],animateAcceleration:[0,"treeAnimateOpenAcceleration","animateAcceleration"],isEnabled:[0,"treeAnimateOpenEnabled","isEnabled"],isOpen:[0,"treeAnimateOpen","isOpen"]}})}}return n})(),gu=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275cmp=j({type:n,selectors:[["tree-node-content"]],inputs:{node:"node",index:"index",template:"template"},decls:2,vars:7,consts:[[4,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(i,r){i&1&&(I(0,kc,2,1,"span",0),$t(1,1)),i&2&&(h("ngIf",!r.template),y(),h("ngTemplateOutlet",r.template)("ngTemplateOutletContext",Ur(3,Fc,r.node,r.node,r.index)))},dependencies:[he,qt],encapsulation:2})}}return n})();var vu=(()=>{class n{constructor(e,i,r,s){this.el=e,this.renderer=i,this.treeDraggedElement=r,this.ngZone=s,this.dragEventHandler=this.onDrag.bind(this)}ngAfterViewInit(){let e=this.el.nativeElement;this.ngZone.runOutsideAngular(()=>{e.addEventListener("drag",this.dragEventHandler)})}ngDoCheck(){this.renderer.setAttribute(this.el.nativeElement,"draggable",this.treeDragEnabled?"true":"false")}ngOnDestroy(){this.el.nativeElement.removeEventListener("drag",this.dragEventHandler)}onDragStart(e){e.dataTransfer.setData("text",e.target.id),this.treeDraggedElement.set(this.draggedElement),this.draggedElement.mouseAction&&this.draggedElement.mouseAction("dragStart",e)}onDrag(e){this.draggedElement.mouseAction&&this.draggedElement.mouseAction("drag",e)}onDragEnd(){this.draggedElement.mouseAction&&this.draggedElement.mouseAction("dragEnd"),this.treeDraggedElement.set(null)}static{this.\u0275fac=function(i){return new(i||n)(W(fn),W(hn),W(Cr),W(jt))}}static{this.\u0275dir=Vt({type:n,selectors:[["","treeDrag",""]],hostBindings:function(i,r){i&1&&V("dragstart",function(o){return r.onDragStart(o)})("dragend",function(){return r.onDragEnd()})},inputs:{draggedElement:[0,"treeDrag","draggedElement"],treeDragEnabled:"treeDragEnabled"}})}}return n})(),yu=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275cmp=j({type:n,selectors:[["tree-node-expander"]],inputs:{node:"node"},decls:1,vars:2,consts:[[4,"treeMobxAutorun"],["class","toggle-children-wrapper",3,"toggle-children-wrapper-expanded","toggle-children-wrapper-collapsed","click",4,"ngIf"],["class","toggle-children-placeholder",4,"ngIf"],[1,"toggle-children-wrapper",3,"click"],[1,"toggle-children"],[1,"toggle-children-placeholder"]],template:function(i,r){i&1&&I(0,jc,3,2,"ng-container",0),i&2&&h("treeMobxAutorun",st(1,kt))},dependencies:[he,Lt],encapsulation:2})}}return n})(),_u=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275cmp=j({type:n,selectors:[["tree-node-checkbox"]],inputs:{node:"node"},decls:1,vars:2,consts:[[4,"treeMobxAutorun"],["type","checkbox",1,"tree-node-checkbox",3,"click","checked","indeterminate"]],template:function(i,r){i&1&&I(0,Bc,2,2,"ng-container",0),i&2&&h("treeMobxAutorun",st(1,kt))},dependencies:[Lt],encapsulation:2})}}return n})(),bu=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275cmp=j({type:n,selectors:[["tree-node-wrapper"]],inputs:{node:"node",index:"index",templates:"templates"},decls:2,vars:8,consts:[["class","node-wrapper",3,"padding-left",4,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"node-wrapper"],[3,"node",4,"ngIf"],[3,"node"],[1,"node-content-wrapper",3,"click","dblclick","mouseover","mouseout","contextmenu","treeDrop","treeDropDragOver","treeDropDragLeave","treeDropDragEnter","treeAllowDrop","allowDragoverStyling","treeDrag","treeDragEnabled"],[3,"node","index","template"]],template:function(i,r){i&1&&(I(0,Hc,5,15,"div",0),$t(1,1)),i&2&&(h("ngIf",!r.templates.treeNodeWrapperTemplate),y(),h("ngTemplateOutlet",r.templates.treeNodeWrapperTemplate)("ngTemplateOutletContext",gn(3,Io,r.node,r.node,r.index,r.templates)))},dependencies:[he,qt,gu,Po,vu,yu,_u],encapsulation:2})}}return n})(),ni=function(n,t,e,i){var r=arguments.length,s=r<3?t:i===null?i=Object.getOwnPropertyDescriptor(t,e):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,t,e,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(r<3?o(s):r>3?o(t,e,s):o(t,e))||s);return r>3&&s&&Object.defineProperty(t,e,s),s},Eu=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275cmp=j({type:n,selectors:[["tree-node-children"]],inputs:{node:"node",templates:"templates"},decls:1,vars:2,consts:[[4,"treeMobxAutorun"],[3,"tree-children","tree-children-no-padding",4,"treeAnimateOpen","treeAnimateOpenSpeed","treeAnimateOpenAcceleration","treeAnimateOpenEnabled"],[3,"nodes","templates","treeModel",4,"ngIf"],["class","tree-node-loading",3,"padding-left","template","node",4,"ngIf"],[3,"nodes","templates","treeModel"],[1,"tree-node-loading",3,"template","node"]],template:function(i,r){i&1&&I(0,Kc,2,4,"ng-container",0),i&2&&h("treeMobxAutorun",st(1,kt))},dependencies:()=>[he,cu,Fo,mu,Lt],encapsulation:2})}}return n})(),Fo=(()=>{class n{constructor(){this._dispose=[]}get nodes(){return this._nodes}set nodes(e){this.setNodes(e)}get marginTop(){let e=this.viewportNodes&&this.viewportNodes.length&&this.viewportNodes[0];return`${e&&e.parent?e.position-e.parent.position-e.parent.getSelfHeight():0}px`}setNodes(e){this._nodes=e}ngOnInit(){this.virtualScroll=this.treeModel.virtualScroll,this._dispose=[mt(()=>this.virtualScroll.getViewportNodes(this.nodes).map(e=>e.index),e=>{this.viewportNodes=e.map(i=>this.nodes[i])},{compareStructural:!0,fireImmediately:!0}),mt(()=>this.nodes,e=>{this.viewportNodes=this.virtualScroll.getViewportNodes(e)})]}ngOnDestroy(){this._dispose.forEach(e=>e())}trackNode(e,i){return i.id}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275cmp=j({type:n,selectors:[["tree-node-collection"]],inputs:{nodes:"nodes",treeModel:"treeModel",templates:"templates"},decls:1,vars:2,consts:[[4,"treeMobxAutorun"],[3,"node","index","templates",4,"ngFor","ngForOf","ngForTrackBy"],[3,"node","index","templates"]],template:function(i,r){i&1&&I(0,Qc,3,4,"ng-container",0),i&2&&h("treeMobxAutorun",st(1,kt))},dependencies:()=>[Et,Su,Lt],encapsulation:2})}}return ni([xo],n.prototype,"_nodes",void 0),ni([xo],n.prototype,"viewportNodes",void 0),ni([fu],n.prototype,"marginTop",null),ni([du],n.prototype,"setNodes",null),n})(),Su=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275cmp=j({type:n,selectors:[["TreeNode"],["tree-node"]],inputs:{node:"node",index:"index",templates:"templates"},decls:1,vars:2,consts:[[4,"treeMobxAutorun"],[3,"class","tree-node","tree-node-expanded","tree-node-collapsed","tree-node-leaf","tree-node-active","tree-node-focused",4,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"dropIndex","node",4,"ngIf"],[3,"node","index","templates"],[3,"node","templates"],[3,"dropIndex","node"]],template:function(i,r){i&1&&I(0,Xc,3,8,"ng-container",0),i&2&&h("treeMobxAutorun",st(1,kt))},dependencies:[he,qt,Eu,Ro,bu,Lt],encapsulation:2})}}return n})(),wu=(()=>{class n{constructor(e,i){this.elementRef=e,this.virtualScroll=i,this.setViewport=this.throttle(()=>{this.virtualScroll.setViewport(this.elementRef.nativeElement)},17),this.scrollEventHandler=this.setViewport.bind(this)}ngOnInit(){this.virtualScroll.init()}ngAfterViewInit(){setTimeout(()=>{this.setViewport(),this.virtualScroll.fireEvent({eventName:q.initialized})}),this.elementRef.nativeElement.addEventListener("scroll",this.scrollEventHandler)}ngOnDestroy(){this.virtualScroll.clear(),this.elementRef.nativeElement.removeEventListener("scroll",this.scrollEventHandler)}getTotalHeight(){return this.virtualScroll.isEnabled()&&this.virtualScroll.totalHeight+"px"||"auto"}throttle(e,i){let r=0;return function(){let s=Date.now();s-r>=i&&(e(),r=s)}}static{this.\u0275fac=function(i){return new(i||n)(W(fn),W(Ee))}}static{this.\u0275cmp=j({type:n,selectors:[["tree-viewport"]],features:[Ei([Ee])],ngContentSelectors:Jc,decls:1,vars:2,consts:[[4,"treeMobxAutorun"]],template:function(i,r){i&1&&(Fr(),I(0,Zc,3,2,"ng-container",0)),i&2&&h("treeMobxAutorun",st(1,kt))},dependencies:[Lt],encapsulation:2})}}return n})(),ri=(()=>{class n{set nodes(e){}set options(e){}set focused(e){this.treeModel.setFocus(e)}set state(e){this.treeModel.setState(e)}constructor(e,i){this.treeModel=e,this.treeDraggedElement=i,e.eventNames.forEach(r=>this[r]=new Ne),e.subscribeToState(r=>this.stateChange.emit(r))}onKeydown(e){if(!this.treeModel.isFocused||["input","textarea"].includes(document.activeElement.tagName.toLowerCase()))return;let i=this.treeModel.getFocusedNode();this.treeModel.performKeyAction(i,e)}onMousedown(e){function i(r,s){return r?r.localName===s?!1:i(r.parentElement,s):!0}i(e.target,"tree-root")&&this.treeModel.setFocus(!1)}ngOnChanges(e){(e.options||e.nodes)&&this.treeModel.setData({options:e.options&&e.options.currentValue,nodes:e.nodes&&e.nodes.currentValue,events:this.pick(this,this.treeModel.eventNames)})}sizeChanged(){this.viewportComponent.setViewport()}pick(e,i){return i.reduce((r,s)=>(e&&e.hasOwnProperty(s)&&(r[s]=e[s]),r),{})}static{this.\u0275fac=function(i){return new(i||n)(W(T),W(Cr))}}static{this.\u0275cmp=j({type:n,selectors:[["Tree"],["tree-root"]],contentQueries:function(i,r,s){if(i&1&&(Ht(s,eu,5),Ht(s,tu,5),Ht(s,nu,5),Ht(s,iu,5)),i&2){let o;Fe(o=ke())&&(r.loadingTemplate=o.first),Fe(o=ke())&&(r.treeNodeTemplate=o.first),Fe(o=ke())&&(r.treeNodeWrapperTemplate=o.first),Fe(o=ke())&&(r.treeNodeFullTemplate=o.first)}},viewQuery:function(i,r){if(i&1&&Ut(ru,5),i&2){let s;Fe(s=ke())&&(r.viewportComponent=s.first)}},hostBindings:function(i,r){i&1&&V("keydown",function(o){return r.onKeydown(o)},!1,yi)("mousedown",function(o){return r.onMousedown(o)},!1,yi)},inputs:{nodes:"nodes",options:"options",focused:"focused",state:"state"},outputs:{toggleExpanded:"toggleExpanded",activate:"activate",deactivate:"deactivate",nodeActivate:"nodeActivate",nodeDeactivate:"nodeDeactivate",select:"select",deselect:"deselect",focus:"focus",blur:"blur",updateData:"updateData",initialized:"initialized",moveNode:"moveNode",copyNode:"copyNode",loadNodeChildren:"loadNodeChildren",changeFilter:"changeFilter",event:"event",stateChange:"stateChange"},features:[Ei([T]),Mr],decls:5,vars:6,consts:[["viewport",""],[1,"angular-tree-component"],[3,"nodes","treeModel","templates",4,"ngIf"],["class","empty-tree-drop-slot",3,"dropIndex","node",4,"ngIf"],[3,"nodes","treeModel","templates"],[1,"empty-tree-drop-slot",3,"dropIndex","node"]],template:function(i,r){i&1&&(p(0,"tree-viewport",null,0)(2,"div",1),I(3,ou,1,8,"tree-node-collection",2)(4,au,1,2,"tree-node-drop-slot",3),m()()),i&2&&(y(2),_t("node-dragging",r.treeDraggedElement.isDragging())("angular-tree-component-rtl",r.treeModel.options.rtl),y(),h("ngIf",r.treeModel.roots),y(),h("ngIf",r.treeModel.isEmptyTree()))},dependencies:[he,Ro,Fo,wu],encapsulation:2})}}return n})(),ko=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=mi({type:n})}static{this.\u0275inj=hi({imports:[Te]})}}return n})();var Nu=["treeContainer"];function Tu(n,t){if(n&1&&(p(0,"span",16)(1,"a",17),k(2,"img",18),m()()),n&2){let e=C();y(),mn("href",e.companyControl.value.url,vi),y(),Lr("src","",e.base_url,"",e.companyControl.value.logo,"",vi)}}function Du(n,t){if(n&1&&(p(0,"option",19),L(1),Si(2,"uppercase"),m()),n&2){let e=t.$implicit;h("ngValue",e),y(),Qe(wi(2,2,e.name))}}function Au(n,t){if(n&1&&(p(0,"option",19),L(1),m()),n&2){let e=t.$implicit;h("ngValue",e),y(),Qe(e.name)}}function Ou(n,t){if(n&1){let e=se();p(0,"div",20)(1,"label",7),L(2),m(),p(3,"div",21,0)(5,"tree-root",22,1),V("activate",function(r){P(e);let s=C();return R(s.onActivate(r))}),m()()()}if(n&2){let e=C();y(2),Qe(e.catalogControl.value.name),y(3),h("options",e.options)("nodes",e.templates)}}var si=class n{selectCatalogue=new Ne;_router=re(wt);_mainService=re(Ct);tree;treeContainer={};options={scrollContainer:this.treeContainer.nativeElement,allowDrag:t=>!t.hasChildren};base_url=En.base_url;companies=[];catalogues=[];templates=[{name:"Cover"},{name:"Table of Contents"}];companyControl=new Ni("");catalogControl=new Ni("");getCompanies(){this._mainService.getCompanies().subscribe({next:t=>{this.companies=t.data}})}getCatalogues(){this._mainService.getCatalogues(this.companyControl.value.id).subscribe({next:t=>{this.catalogues=t.data}})}getSideMenu(){this._mainService.getSideMenu(this.catalogControl.value.id).subscribe({next:t=>{this.templates=[...this.templates,...t.data],this.selectCatalogue.emit(this.catalogControl.value)}})}onActivate(t){t.node.data.name.toLowerCase()=="cover"?this._router.navigateByUrl(`cover/${this.companyControl.value.name}/${this.catalogControl.value.name}`):t.node.data.name.toLowerCase()=="table of contents"?this._router.navigateByUrl(`table-of-contents/${this.companyControl.value.name}/${this.catalogControl.value.name}`):t.node.data.name.toLowerCase()=="products"?this._router.navigateByUrl(`products/${this.companyControl.value.name}/${this.catalogControl.value.name}/${t.node.data.sub_category_id}`):t.node.data.name.toLowerCase()=="pricing"&&this._router.navigateByUrl(`pricing/${this.companyControl.value.name}/${this.catalogControl.value.name}/${t.node.data.sub_category_id}`)}ngOnInit(){this.getCompanies()}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=j({type:n,selectors:[["app-sidebar"]],viewQuery:function(e,i){if(e&1&&(Ut(ri,5),Ut(Nu,5)),e&2){let r;Fe(r=ke())&&(i.tree=r.first),Fe(r=ke())&&(i.treeContainer=r.first)}},outputs:{selectCatalogue:"selectCatalogue"},standalone:!0,features:[ae],decls:24,vars:9,consts:[["treeContainer",""],["tree",""],[1,"list-group","border-0","rounded-0","h-100"],["href","http://www.bisema.com","target","_blank","aria-current","true",1,"logo","bg-purple"],["src","img/bisema_logo.jpg","alt","logo","height","30"],[1,"list-group-item","list-group-item-action","bg-light-purple","h-100"],[1,"mb-3"],["for","exampleFormControlInput1",1,"form-label"],[1,"input-group"],["class","input-group-text",4,"ngIf"],[1,"form-select","form-select-sm","decorated",3,"change","formControl"],["value",""],[3,"ngValue",4,"ngFor","ngForOf"],[1,"form-select","form-select-sm",3,"change","formControl"],["value","","selected","","disabled",""],["class","",4,"ngIf"],[1,"input-group-text"],["target","_blank",3,"href"],["height","30",3,"src"],[3,"ngValue"],[1,""],[2,"height","450px"],[3,"activate","options","nodes"]],template:function(e,i){e&1&&(p(0,"div",2)(1,"a",3),k(2,"img",4),m(),p(3,"div",5)(4,"div",6)(5,"label",7)(6,"b"),L(7,"Manufacturing Company"),m()(),p(8,"div",8),I(9,Tu,3,4,"span",9),p(10,"select",10),V("change",function(){return i.getCatalogues()}),p(11,"option",11),L(12,"Select Company"),m(),I(13,Du,3,4,"option",12),m()()(),p(14,"div",6)(15,"label",7)(16,"b"),L(17),Si(18,"uppercase"),m()(),p(19,"select",13),V("change",function(){return i.getSideMenu()}),p(20,"option",14),L(21,"Select Catalogue"),m(),I(22,Au,2,2,"option",12),m()(),I(23,Ou,7,3,"div",15),m()()),e&2&&(y(9),h("ngIf",i.companyControl.value.name),y(),h("formControl",i.companyControl),y(3),h("ngForOf",i.companies),y(4),Vr("",wi(18,7,i.companyControl.value.name)," Catalogue"),y(2),h("formControl",i.catalogControl),y(3),h("ngForOf",i.catalogues),y(),h("ngIf",i.catalogControl.value.name))},dependencies:[Te,Et,he,zr,ko,ri,ss,is,rs,ns,es,ts],styles:["div[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{padding:15px}"]})};var oi=class n{isCollapsed=!1;catalogue=null;static \u0275fac=function(e){return new(e||n)};static \u0275cmp=j({type:n,selectors:[["app-main"]],standalone:!0,features:[ae],decls:11,vars:3,consts:[["sidebarCollapse","ngbCollapse"],[1,"container-fluid","h-100"],[1,"row","h-100"],[1,"col-12","px-0"],[1,"d-flex","h-100"],[2,"max-width","300px",3,"ngbCollapseChange","ngbCollapse","horizontal"],[1,"h-100",2,"width","300px"],[3,"selectCatalogue"],[1,"w-100"],[3,"toggleCollapse","catalogue"]],template:function(e,i){if(e&1){let r=se();p(0,"div",1)(1,"div",2)(2,"div",3)(3,"div",4)(4,"div",5,0),$r("ngbCollapseChange",function(o){return P(r),Br(i.isCollapsed,o)||(i.isCollapsed=o),R(o)}),p(6,"div",6)(7,"app-sidebar",7),V("selectCatalogue",function(o){return P(r),R(i.catalogue=o)}),m()()(),p(8,"div",8)(9,"app-header",9),V("toggleCollapse",function(){P(r);let o=bt(5);return R(o.toggle())}),m(),k(10,"router-outlet"),m()()()()()}e&2&&(y(4),jr("ngbCollapse",i.isCollapsed),h("horizontal",!0),y(5),h("catalogue",i.catalogue))},dependencies:[St,as,os,jn,si]})};function xu(n,t){if(n&1){let e=se();p(0,"div",7)(1,"h4",8),L(2,"File To Import"),m(),p(3,"button",9),V("click",function(){let r=P(e).$implicit;return R(r.dismiss("Cross click"))}),m()(),p(4,"div",10)(5,"form")(6,"div",11)(7,"div")(8,"label",12),L(9,"Select File"),m(),p(10,"input",13),V("change",function(r){P(e);let s=C();return R(s.onFileSelected(r))}),m()()(),p(11,"div",14)(12,"button",15),V("click",function(){let r=P(e).$implicit;return R(r.dismiss("Cross click"))}),L(13,"Close"),m(),p(14,"button",16),V("click",function(){P(e);let r=C();return R(r.submit())}),L(15,"Save"),m()()()()}}var ai=class n{modalService=re(bn);_mainService=re(Ct);file=null;openModal(t){this.modalService.open(t,{centered:!0,size:"lg"})}submit(){if(this.file){let t=new FormData;t.append("file",this.file),this._mainService.importFile(t).subscribe({next:e=>{alert("import successfully")}})}else alert("select file to continue")}onFileSelected(t){this.file=t.target.files[0]}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=j({type:n,selectors:[["app-header"]],standalone:!0,features:[ae],decls:10,vars:0,consts:[["content",""],[1,"navbar","navbar-dark","bg-purple","navbar-expand-sm"],[1,"container-fluid","align-items-center","px-0"],[1,"d-flex","align-items-center","me-5"],[1,"navbar-text","text-white","h5","me-5","pe-5","d-md-block","d-none"],[1,"me-3","d-flex","align-items-center"],[1,"btn","btn2",3,"click"],[1,"modal-header"],["id","modal-basic-title",1,"modal-title"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[1,"form-group","mb-1"],[1,"form-label"],["type","file",1,"form-control",3,"change"],[1,"mt-3","d-flex","justify-content-end"],["type","button",1,"btn","btn-danger","me-2",3,"click"],["type","button",1,"btn","btn2",3,"click"]],template:function(e,i){if(e&1){let r=se();p(0,"nav",1)(1,"div",2),k(2,"div",3),p(3,"div",4),L(4," BiSemA Corporation Cloud Specification Services "),m(),p(5,"div",5)(6,"button",6),V("click",function(){P(r);let o=bt(9);return R(i.openModal(o))}),L(7,"Import Product File"),m()()()(),I(8,xu,16,0,"ng-template",null,0,vn)}},dependencies:[Te]})};function Iu(n,t){if(n&1&&(Pe(0),p(1,"li",6)(2,"a",7)(3,"span",8),L(4),m()()(),k(5,"hr"),Re()),n&2){let e=t.$implicit;y(2),mn("routerLink",e.link),y(2),Qe(e.name)}}var li=class n{_router=re(wt);base_url=En.base_url;menus=[{link:"/admin/company",name:"Companies"},{link:"/admin/catalogue",name:"Catalogues"},{link:"/admin/category",name:"Categories"},{link:"/admin/sub-category",name:"Sub Categories"},{link:"/admin/product",name:"Products"}];ngOnInit(){}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=j({type:n,selectors:[["app-sidebar"]],standalone:!0,features:[ae],decls:6,vars:1,consts:[[1,"list-group","border-0","rounded-0","h-100"],["href","http://www.bisema.com","target","_blank","aria-current","true",1,"logo","bg-purple"],["src","img/bisema_logo.jpg","alt","logo","height","30"],[1,"list-group-item","list-group-item-action","bg-light-purple","h-100","p-0"],["id","menu",1,"nav","nav-pills","flex-column","mb-sm-auto","mb-0","align-items-center","align-items-sm-start"],[4,"ngFor","ngForOf"],[1,"w-100","mt-2"],[1,"nav-link","align-middle","level-up-btn",3,"routerLink"],[1,"ms-1"]],template:function(e,i){e&1&&(p(0,"div",0)(1,"a",1),k(2,"img",2),m(),p(3,"div",3)(4,"ul",4),I(5,Iu,6,2,"ng-container",5),m()()()),e&2&&(y(5),h("ngForOf",i.menus))},dependencies:[Te,Et,_n,Xr],styles:["div[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{padding:15px}"]})};var ci=class n{static \u0275fac=function(e){return new(e||n)};static \u0275cmp=j({type:n,selectors:[["app-admin"]],standalone:!0,features:[ae],decls:10,vars:0,consts:[[1,"container-fluid","h-100"],[1,"row","h-100"],[1,"col-12","px-0"],[1,"d-flex","h-100"],[2,"max-width","300px"],[1,"h-100",2,"width","300px"],[1,"w-100"]],template:function(e,i){e&1&&(p(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5),k(6,"app-sidebar"),m()(),p(7,"div",6),k(8,"app-header")(9,"router-outlet"),m()()()()())},dependencies:[ai,li,_n,St]})};var ui=class n{constructor(t){this.document=t;this.localstorage=t.defaultView?.localStorage}localstorage=void 0;setItem(t,e){this.localstorage&&this.localstorage.setItem(t,e)}getItem(t){if(this.localstorage)return this.localstorage.getItem(t)}removeItem(t){this.localstorage&&this.localstorage.removeItem(t)}static \u0275fac=function(e){return new(e||n)(Ge(yn))};static \u0275prov=Ce({token:n,factory:n.\u0275fac,providedIn:"root"})};var Lo=(n,t)=>{let e=re(wt);return re(ui).getItem("token")?!0:(e.navigateByUrl("/admin/login"),!1)};var Vo=[{path:"",component:oi,loadChildren:()=>pn(void 0,null,function*(){return(yield import("./chunk-MPLPS3CK.js")).routes})},{path:"admin",component:ci,loadChildren:()=>pn(void 0,null,function*(){return(yield import("./chunk-3OT4OFHU.js")).routes}),canActivate:[Lo]},{path:"admin/login",loadComponent:()=>pn(void 0,null,function*(){return(yield import("./chunk-BXSXTJRH.js")).LoginComponent})}];var jo=(n,t)=>{let e=localStorage.getItem("token");return e&&(n=n.clone({headers:n.headers.set("authorization",`Bearer ${e}`)})),t(n).pipe(Or({error:s=>{var o=s,{status:i}=o,r=dn(o,["status"])}}))};var Bo={providers:[xr([Ci]),qr({eventCoalescing:!0}),Kr(Gr([jo])),Jr(Vo,Zr()),Ls()]};var di=class n{title="downloadPdf";static \u0275fac=function(e){return new(e||n)};static \u0275cmp=j({type:n,selectors:[["app-root"]],standalone:!0,features:[ae],decls:1,vars:0,template:function(e,i){e&1&&k(0,"router-outlet")},dependencies:[St]})};Wr(di,Bo).catch(n=>console.error(n));
